2025-11-10 00:23:28 - root - [32mINFO[0m - Logging configured: level=INFO, dir=logs
2025-11-10 00:23:28 - api.exception_handlers - [32mINFO[0m - âœ… Exception handlers registered
2025-11-10 00:51:24 - root - [32mINFO[0m - Logging configured: level=INFO, dir=logs
2025-11-10 00:51:24 - api.exception_handlers - [32mINFO[0m - âœ… Exception handlers registered
2025-11-10 00:52:12 - root - [32mINFO[0m - Logging configured: level=INFO, dir=logs
2025-11-10 00:52:12 - api.exception_handlers - [32mINFO[0m - âœ… Exception handlers registered
2025-11-10 00:53:26 - root - [32mINFO[0m - Logging configured: level=INFO, dir=logs
2025-11-10 00:53:26 - api.exception_handlers - [32mINFO[0m - âœ… Exception handlers registered
2025-11-10 00:53:26 - api.rate_limiter - [32mINFO[0m - Rate limiting enabled: 100 requests per hour
2025-11-10 00:53:26 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-09T23:53:26.732546"}
2025-11-10 00:53:26 - api.exception_handlers - [33mWARNING[0m - HTTP 404: Not Found | Path: /api/v1/books | Method: GET | Client: 127.0.0.1
2025-11-10 00:53:26 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 404, "execution_time": "0.002s", "client_ip": "127.0.0.1", "timestamp": "2025-11-09T23:53:26.734552"}
2025-11-10 00:53:26 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books "HTTP/1.1 404 Not Found"
2025-11-10 00:54:53 - root - [32mINFO[0m - Logging configured: level=INFO, dir=logs
2025-11-10 00:54:53 - api.exception_handlers - [32mINFO[0m - âœ… Exception handlers registered
2025-11-10 00:54:53 - api.rate_limiter - [32mINFO[0m - Rate limiting enabled: 100 requests per hour
2025-11-10 00:54:53 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-09T23:54:53.952416"}
2025-11-10 00:54:53 - api.auth - [33mWARNING[0m - Authentication failed: none
2025-11-10 00:54:53 - api.exception_handlers - [33mWARNING[0m - HTTP 401: {'error': 'Missing API key', 'message': 'Include X-API-Key header in your request', 'header': 'X-API-Key'} | Path: /api/v1/books | Method: GET | Client: 127.0.0.1
2025-11-10 00:54:53 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 401, "execution_time": "0.014s", "client_ip": "127.0.0.1", "timestamp": "2025-11-09T23:54:53.966415"}
2025-11-10 00:54:53 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books "HTTP/1.1 401 Unauthorized"
2025-11-10 01:01:22 - root - [32mINFO[0m - Logging configured: level=INFO, dir=logs
2025-11-10 01:01:22 - api.exception_handlers - [32mINFO[0m - âœ… Exception handlers registered
2025-11-10 01:01:23 - api.rate_limiter - [32mINFO[0m - Rate limiting enabled: 100 requests per hour
2025-11-10 01:01:23 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T00:01:23.202161"}
2025-11-10 01:01:23 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 01:01:23 - api.routes.books - [31mERROR[0m - Error fetching books: Database not connected. Ensure connect_to_mongo() was called on startup.
Traceback (most recent call last):
  File "C:\Users\ADMIN\Documents\web_crawler_project\api\routes\books.py", line 123, in list_books
    db = get_database()
  File "C:\Users\ADMIN\Documents\web_crawler_project\api\database.py", line 137, in get_database
    raise RuntimeError(
RuntimeError: Database not connected. Ensure connect_to_mongo() was called on startup.
2025-11-10 01:01:23 - api.exception_handlers - [33mWARNING[0m - HTTP 500: Failed to fetch books: Database not connected. Ensure connect_to_mongo() was called on startup. | Path: /api/v1/books | Method: GET | Client: 127.0.0.1
2025-11-10 01:01:23 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 500, "execution_time": "0.021s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:01:23.223144"}
2025-11-10 01:01:23 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books "HTTP/1.1 500 Internal Server Error"
2025-11-10 01:04:35 - root - [32mINFO[0m - Logging configured: level=INFO, dir=logs
2025-11-10 01:04:35 - api.exception_handlers - [32mINFO[0m - âœ… Exception handlers registered
2025-11-10 01:05:40 - root - [32mINFO[0m - Logging configured: level=INFO, dir=logs
2025-11-10 01:05:40 - api.exception_handlers - [32mINFO[0m - âœ… Exception handlers registered
2025-11-10 01:05:41 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:05:41 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:05:41 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:05:41 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:05:41 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:05:41 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:05:41 - api.rate_limiter - [32mINFO[0m - Rate limiting enabled: 100 requests per hour
2025-11-10 01:05:41 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T00:05:41.425822"}
2025-11-10 01:05:41 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 01:05:41 - api.routes.books - [32mINFO[0m - Books list request: filters={}, sort=recent, page=1, total=1000, api_key=test-api...
2025-11-10 01:05:41 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 200, "execution_time": "0.065s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:05:41.490822"}
2025-11-10 01:05:41 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books "HTTP/1.1 200 OK"
2025-11-10 01:05:41 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:05:41 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:05:58 - root - [32mINFO[0m - Logging configured: level=INFO, dir=logs
2025-11-10 01:05:58 - api.exception_handlers - [32mINFO[0m - âœ… Exception handlers registered
2025-11-10 01:05:59 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:05:59 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:05:59 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:05:59 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:05:59 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:05:59 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:05:59 - api.rate_limiter - [32mINFO[0m - Rate limiting enabled: 100 requests per hour
2025-11-10 01:05:59 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T00:05:59.699375"}
2025-11-10 01:05:59 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 01:05:59 - api.routes.books - [32mINFO[0m - Books list request: filters={}, sort=recent, page=1, total=1000, api_key=test-api...
2025-11-10 01:05:59 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 200, "execution_time": "0.025s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:05:59.724375"}
2025-11-10 01:05:59 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books "HTTP/1.1 200 OK"
2025-11-10 01:05:59 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:05:59 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:05:59 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:05:59 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:05:59 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:05:59 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:05:59 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:05:59 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:05:59 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "invalid-...", "timestamp": "2025-11-10T00:05:59.838376"}
2025-11-10 01:05:59 - api.auth - [33mWARNING[0m - Authentication failed: invalid-...
2025-11-10 01:05:59 - api.exception_handlers - [33mWARNING[0m - HTTP 401: {'error': 'Invalid API key', 'message': 'The provided API key is not valid', 'hint': 'Check your API key or contact the administrator'} | Path: /api/v1/books | Method: GET | Client: 127.0.0.1
2025-11-10 01:05:59 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 401, "execution_time": "0.005s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:05:59.843385"}
2025-11-10 01:05:59 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books "HTTP/1.1 401 Unauthorized"
2025-11-10 01:05:59 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:05:59 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:05:59 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:05:59 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:05:59 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:05:59 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:05:59 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:05:59 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:05:59 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T00:05:59.930383"}
2025-11-10 01:05:59 - api.auth - [33mWARNING[0m - Authentication failed: none
2025-11-10 01:05:59 - api.exception_handlers - [33mWARNING[0m - HTTP 401: {'error': 'Missing API key', 'message': 'Include X-API-Key header in your request', 'header': 'X-API-Key'} | Path: /api/v1/books | Method: GET | Client: 127.0.0.1
2025-11-10 01:05:59 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 401, "execution_time": "0.005s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:05:59.935375"}
2025-11-10 01:05:59 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books "HTTP/1.1 401 Unauthorized"
2025-11-10 01:05:59 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:05:59 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:05:59 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:05:59 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:05:59 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:05:59 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:05:59 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:05:59 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:06:00 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T00:06:00.003372"}
2025-11-10 01:06:00 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 01:06:00 - api.routes.books - [32mINFO[0m - Books list request: filters={}, sort=recent, page=1, total=1000, api_key=test-api...
2025-11-10 01:06:00 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 200, "execution_time": "0.030s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:06:00.033375"}
2025-11-10 01:06:00 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books "HTTP/1.1 200 OK"
2025-11-10 01:06:00 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "TEST-API...", "timestamp": "2025-11-10T00:06:00.043383"}
2025-11-10 01:06:00 - api.auth - [33mWARNING[0m - Authentication failed: TEST-API...
2025-11-10 01:06:00 - api.exception_handlers - [33mWARNING[0m - HTTP 401: {'error': 'Invalid API key', 'message': 'The provided API key is not valid', 'hint': 'Check your API key or contact the administrator'} | Path: /api/v1/books | Method: GET | Client: 127.0.0.1
2025-11-10 01:06:00 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 401, "execution_time": "0.005s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:06:00.048377"}
2025-11-10 01:06:00 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books "HTTP/1.1 401 Unauthorized"
2025-11-10 01:06:00 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:06:00 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:06:00 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:06:00 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:06:00 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:06:00 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:06:00 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:06:00 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:06:00 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T00:06:00.198917"}
2025-11-10 01:06:00 - api.auth - [33mWARNING[0m - Authentication failed: none
2025-11-10 01:06:00 - api.exception_handlers - [33mWARNING[0m - HTTP 401: {'error': 'Missing API key', 'message': 'Include X-API-Key header in your request', 'header': 'X-API-Key'} | Path: /api/v1/books | Method: GET | Client: 127.0.0.1
2025-11-10 01:06:00 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 401, "execution_time": "0.004s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:06:00.201918"}
2025-11-10 01:06:00 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books "HTTP/1.1 401 Unauthorized"
2025-11-10 01:06:00 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:06:00 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:06:00 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:06:00 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:06:00 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:06:00 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:06:00 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:06:00 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:06:00 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-key...", "timestamp": "2025-11-10T00:06:00.285915"}
2025-11-10 01:06:00 - api.auth - [33mWARNING[0m - Authentication failed: test-key...
2025-11-10 01:06:00 - api.exception_handlers - [33mWARNING[0m - HTTP 401: {'error': 'Invalid API key', 'message': 'The provided API key is not valid', 'hint': 'Check your API key or contact the administrator'} | Path: /api/v1/books | Method: GET | Client: 127.0.0.1
2025-11-10 01:06:00 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 401, "execution_time": "0.009s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:06:00.294942"}
2025-11-10 01:06:00 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books "HTTP/1.1 401 Unauthorized"
2025-11-10 01:06:00 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:06:00 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:06:00 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:06:00 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:06:00 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:06:00 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:06:00 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:06:00 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:06:00 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T00:06:00.383918"}
2025-11-10 01:06:00 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 01:06:00 - api.routes.books - [32mINFO[0m - Books list request: filters={}, sort=recent, page=1, total=1000, api_key=test-api...
2025-11-10 01:06:00 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 200, "execution_time": "0.026s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:06:00.409936"}
2025-11-10 01:06:00 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books "HTTP/1.1 200 OK"
2025-11-10 01:06:00 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:06:00 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:06:00 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:06:00 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:06:00 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:06:00 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:06:00 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:06:00 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:06:00 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T00:06:00.460918"}
2025-11-10 01:06:00 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 01:06:00 - api.routes.books - [32mINFO[0m - Books list request: filters={}, sort=recent, page=1, total=1000, api_key=test-api...
2025-11-10 01:06:00 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 200, "execution_time": "0.051s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:06:00.511932"}
2025-11-10 01:06:00 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books "HTTP/1.1 200 OK"
2025-11-10 01:06:00 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:06:00 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:06:00 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:06:00 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:06:00 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:06:00 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:06:00 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:06:00 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:06:00 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T00:06:00.583919"}
2025-11-10 01:06:00 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 01:06:00 - api.routes.books - [32mINFO[0m - Books list request: filters={}, sort=recent, page=1, total=1000, api_key=test-api...
2025-11-10 01:06:00 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 200, "execution_time": "0.024s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:06:00.606923"}
2025-11-10 01:06:00 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books "HTTP/1.1 200 OK"
2025-11-10 01:06:00 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T00:06:00.611916"}
2025-11-10 01:06:00 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 01:06:00 - api.routes.books - [32mINFO[0m - Books list request: filters={}, sort=recent, page=1, total=1000, api_key=test-api...
2025-11-10 01:06:00 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 200, "execution_time": "0.016s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:06:00.627915"}
2025-11-10 01:06:00 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books "HTTP/1.1 200 OK"
2025-11-10 01:06:00 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:06:00 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:06:00 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:06:00 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:06:00 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:06:00 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:06:00 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:06:00 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:06:00 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T00:06:00.679917"}
2025-11-10 01:06:00 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 01:06:00 - api.routes.books - [32mINFO[0m - Books list request: filters={}, sort=recent, page=1, total=1000, api_key=test-api...
2025-11-10 01:06:00 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 200, "execution_time": "0.023s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:06:00.702915"}
2025-11-10 01:06:00 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books "HTTP/1.1 200 OK"
2025-11-10 01:06:00 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "invalid-...", "timestamp": "2025-11-10T00:06:00.709930"}
2025-11-10 01:06:00 - api.auth - [33mWARNING[0m - Authentication failed: invalid-...
2025-11-10 01:06:00 - api.exception_handlers - [33mWARNING[0m - HTTP 401: {'error': 'Invalid API key', 'message': 'The provided API key is not valid', 'hint': 'Check your API key or contact the administrator'} | Path: /api/v1/books | Method: GET | Client: 127.0.0.1
2025-11-10 01:06:00 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 401, "execution_time": "0.005s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:06:00.714918"}
2025-11-10 01:06:00 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books "HTTP/1.1 401 Unauthorized"
2025-11-10 01:06:00 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:06:00 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:06:00 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:06:00 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:06:00 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:06:00 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:06:00 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:06:00 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:06:00 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/health", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T00:06:00.769919"}
2025-11-10 01:06:00 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/health", "status_code": 200, "execution_time": "0.014s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:06:00.783914"}
2025-11-10 01:06:00 - httpx - [32mINFO[0m - HTTP Request: GET http://test/health "HTTP/1.1 200 OK"
2025-11-10 01:06:00 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:06:00 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:06:01 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:06:01 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:06:01 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:06:01 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:06:01 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:06:01 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:06:01 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books/invalid-id-123", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T00:06:01.060916"}
2025-11-10 01:06:01 - api.auth - [33mWARNING[0m - Authentication failed: none
2025-11-10 01:06:01 - api.exception_handlers - [33mWARNING[0m - HTTP 401: {'error': 'Missing API key', 'message': 'Include X-API-Key header in your request', 'header': 'X-API-Key'} | Path: /api/v1/books/invalid-id-123 | Method: GET | Client: 127.0.0.1
2025-11-10 01:06:01 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books/invalid-id-123", "status_code": 401, "execution_time": "0.004s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:06:01.064916"}
2025-11-10 01:06:01 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books/invalid-id-123 "HTTP/1.1 401 Unauthorized"
2025-11-10 01:06:01 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:06:01 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:06:01 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:06:01 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:06:01 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:06:01 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:06:01 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:06:01 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:06:01 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books/507f1f77bcf86cd799439999", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T00:06:01.162915"}
2025-11-10 01:06:01 - api.auth - [33mWARNING[0m - Authentication failed: none
2025-11-10 01:06:01 - api.exception_handlers - [33mWARNING[0m - HTTP 401: {'error': 'Missing API key', 'message': 'Include X-API-Key header in your request', 'header': 'X-API-Key'} | Path: /api/v1/books/507f1f77bcf86cd799439999 | Method: GET | Client: 127.0.0.1
2025-11-10 01:06:01 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books/507f1f77bcf86cd799439999", "status_code": 401, "execution_time": "0.002s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:06:01.165917"}
2025-11-10 01:06:01 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books/507f1f77bcf86cd799439999 "HTTP/1.1 401 Unauthorized"
2025-11-10 01:06:01 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:06:01 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:06:01 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:06:01 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:06:01 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:06:01 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:06:01 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:06:01 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:06:01 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T00:06:01.710919"}
2025-11-10 01:06:01 - api.auth - [33mWARNING[0m - Authentication failed: none
2025-11-10 01:06:01 - api.exception_handlers - [33mWARNING[0m - HTTP 401: {'error': 'Missing API key', 'message': 'Include X-API-Key header in your request', 'header': 'X-API-Key'} | Path: /api/v1/books | Method: GET | Client: 127.0.0.1
2025-11-10 01:06:01 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 401, "execution_time": "0.005s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:06:01.714916"}
2025-11-10 01:06:01 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books "HTTP/1.1 401 Unauthorized"
2025-11-10 01:06:01 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:06:01 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:06:01 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:06:01 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:06:01 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:06:01 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:06:01 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:06:01 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:06:01 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T00:06:01.779917"}
2025-11-10 01:06:01 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 01:06:01 - api.routes.books - [32mINFO[0m - Books list request: filters={}, sort=recent, page=1, total=1000, api_key=test-api...
2025-11-10 01:06:01 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 200, "execution_time": "0.022s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:06:01.801916"}
2025-11-10 01:06:01 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books "HTTP/1.1 200 OK"
2025-11-10 01:06:01 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:06:01 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:06:01 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:06:01 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:06:01 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:06:01 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:06:01 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:06:01 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:06:01 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T00:06:01.864935"}
2025-11-10 01:06:01 - api.auth - [33mWARNING[0m - Authentication failed: none
2025-11-10 01:06:01 - api.exception_handlers - [33mWARNING[0m - HTTP 401: {'error': 'Missing API key', 'message': 'Include X-API-Key header in your request', 'header': 'X-API-Key'} | Path: /api/v1/books | Method: GET | Client: 127.0.0.1
2025-11-10 01:06:01 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 401, "execution_time": "0.004s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:06:01.868918"}
2025-11-10 01:06:01 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books "HTTP/1.1 401 Unauthorized"
2025-11-10 01:06:01 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:06:01 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:06:01 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:06:01 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:06:01 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:06:01 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:06:01 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:06:01 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:06:01 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T00:06:01.933916", "query_params": {"page": "2", "page_size": "10"}}
2025-11-10 01:06:01 - api.auth - [33mWARNING[0m - Authentication failed: none
2025-11-10 01:06:01 - api.exception_handlers - [33mWARNING[0m - HTTP 401: {'error': 'Missing API key', 'message': 'Include X-API-Key header in your request', 'header': 'X-API-Key'} | Path: /api/v1/books | Method: GET | Client: 127.0.0.1
2025-11-10 01:06:01 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 401, "execution_time": "0.006s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:06:01.939919"}
2025-11-10 01:06:01 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books?page=2&page_size=10 "HTTP/1.1 401 Unauthorized"
2025-11-10 01:06:01 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:06:01 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:06:01 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:06:01 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:06:01 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:06:01 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:06:02 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:06:02 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:06:02 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T00:06:02.025918", "query_params": {"page": "0"}}
2025-11-10 01:06:02 - api.auth - [33mWARNING[0m - Authentication failed: none
2025-11-10 01:06:02 - api.exception_handlers - [33mWARNING[0m - HTTP 401: {'error': 'Missing API key', 'message': 'Include X-API-Key header in your request', 'header': 'X-API-Key'} | Path: /api/v1/books | Method: GET | Client: 127.0.0.1
2025-11-10 01:06:02 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 401, "execution_time": "0.008s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:06:02.033919"}
2025-11-10 01:06:02 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books?page=0 "HTTP/1.1 401 Unauthorized"
2025-11-10 01:06:02 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:06:02 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:06:02 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:06:02 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:06:02 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:06:02 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:06:02 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:06:02 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:06:02 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T00:06:02.114915", "query_params": {"page_size": "150"}}
2025-11-10 01:06:02 - api.auth - [33mWARNING[0m - Authentication failed: none
2025-11-10 01:06:02 - api.exception_handlers - [33mWARNING[0m - HTTP 401: {'error': 'Missing API key', 'message': 'Include X-API-Key header in your request', 'header': 'X-API-Key'} | Path: /api/v1/books | Method: GET | Client: 127.0.0.1
2025-11-10 01:06:02 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 401, "execution_time": "0.004s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:06:02.118920"}
2025-11-10 01:06:02 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books?page_size=150 "HTTP/1.1 401 Unauthorized"
2025-11-10 01:06:02 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:06:02 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:06:02 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:06:02 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:06:02 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:06:02 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:06:02 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:06:02 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:06:02 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T00:06:02.311916", "query_params": {"min_price": "10", "max_price": "50"}}
2025-11-10 01:06:02 - api.auth - [33mWARNING[0m - Authentication failed: none
2025-11-10 01:06:02 - api.exception_handlers - [33mWARNING[0m - HTTP 401: {'error': 'Missing API key', 'message': 'Include X-API-Key header in your request', 'header': 'X-API-Key'} | Path: /api/v1/books | Method: GET | Client: 127.0.0.1
2025-11-10 01:06:02 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 401, "execution_time": "0.014s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:06:02.325921"}
2025-11-10 01:06:02 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books?min_price=10&max_price=50 "HTTP/1.1 401 Unauthorized"
2025-11-10 01:06:02 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:06:02 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:06:02 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:06:02 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:06:02 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:06:02 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:06:02 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:06:02 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:06:02 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T00:06:02.417919", "query_params": {"min_rating": "4"}}
2025-11-10 01:06:02 - api.auth - [33mWARNING[0m - Authentication failed: none
2025-11-10 01:06:02 - api.exception_handlers - [33mWARNING[0m - HTTP 401: {'error': 'Missing API key', 'message': 'Include X-API-Key header in your request', 'header': 'X-API-Key'} | Path: /api/v1/books | Method: GET | Client: 127.0.0.1
2025-11-10 01:06:02 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 401, "execution_time": "0.007s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:06:02.424934"}
2025-11-10 01:06:02 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books?min_rating=4 "HTTP/1.1 401 Unauthorized"
2025-11-10 01:06:02 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:06:02 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:06:02 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:06:02 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:06:02 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:06:02 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:06:02 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:06:02 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:06:02 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T00:06:02.570919", "query_params": {"availability": "In stock"}}
2025-11-10 01:06:02 - api.auth - [33mWARNING[0m - Authentication failed: none
2025-11-10 01:06:02 - api.exception_handlers - [33mWARNING[0m - HTTP 401: {'error': 'Missing API key', 'message': 'Include X-API-Key header in your request', 'header': 'X-API-Key'} | Path: /api/v1/books | Method: GET | Client: 127.0.0.1
2025-11-10 01:06:02 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 401, "execution_time": "0.008s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:06:02.576917"}
2025-11-10 01:06:02 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books?availability=In%20stock "HTTP/1.1 401 Unauthorized"
2025-11-10 01:06:02 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:06:02 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:06:02 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:06:02 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:06:02 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:06:02 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:06:02 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:06:02 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:06:02 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T00:06:02.667916", "query_params": {"search": "the"}}
2025-11-10 01:06:02 - api.auth - [33mWARNING[0m - Authentication failed: none
2025-11-10 01:06:02 - api.exception_handlers - [33mWARNING[0m - HTTP 401: {'error': 'Missing API key', 'message': 'Include X-API-Key header in your request', 'header': 'X-API-Key'} | Path: /api/v1/books | Method: GET | Client: 127.0.0.1
2025-11-10 01:06:02 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 401, "execution_time": "0.006s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:06:02.673922"}
2025-11-10 01:06:02 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books?search=the "HTTP/1.1 401 Unauthorized"
2025-11-10 01:06:03 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:06:03 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:06:03 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:06:03 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:06:03 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:06:03 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:06:03 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:06:03 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:06:03 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T00:06:03.347916", "query_params": {"sort_by": "title", "page_size": "5"}}
2025-11-10 01:06:03 - api.auth - [33mWARNING[0m - Authentication failed: none
2025-11-10 01:06:03 - api.exception_handlers - [33mWARNING[0m - HTTP 401: {'error': 'Missing API key', 'message': 'Include X-API-Key header in your request', 'header': 'X-API-Key'} | Path: /api/v1/books | Method: GET | Client: 127.0.0.1
2025-11-10 01:06:03 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 401, "execution_time": "0.003s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:06:03.350915"}
2025-11-10 01:06:03 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books?sort_by=title&page_size=5 "HTTP/1.1 401 Unauthorized"
2025-11-10 01:06:03 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:06:03 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:06:03 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:06:03 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:06:03 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:06:03 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:06:03 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:06:03 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:06:03 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T00:06:03.443928", "query_params": {"sort_by": "price_asc", "page_size": "5"}}
2025-11-10 01:06:03 - api.auth - [33mWARNING[0m - Authentication failed: none
2025-11-10 01:06:03 - api.exception_handlers - [33mWARNING[0m - HTTP 401: {'error': 'Missing API key', 'message': 'Include X-API-Key header in your request', 'header': 'X-API-Key'} | Path: /api/v1/books | Method: GET | Client: 127.0.0.1
2025-11-10 01:06:03 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 401, "execution_time": "0.005s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:06:03.448917"}
2025-11-10 01:06:03 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books?sort_by=price_asc&page_size=5 "HTTP/1.1 401 Unauthorized"
2025-11-10 01:06:03 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:06:03 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:06:03 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:06:03 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:06:03 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:06:03 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:06:03 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:06:03 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:06:03 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T00:06:03.541927", "query_params": {"sort_by": "price_desc", "page_size": "5"}}
2025-11-10 01:06:03 - api.auth - [33mWARNING[0m - Authentication failed: none
2025-11-10 01:06:03 - api.exception_handlers - [33mWARNING[0m - HTTP 401: {'error': 'Missing API key', 'message': 'Include X-API-Key header in your request', 'header': 'X-API-Key'} | Path: /api/v1/books | Method: GET | Client: 127.0.0.1
2025-11-10 01:06:03 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 401, "execution_time": "0.006s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:06:03.546914"}
2025-11-10 01:06:03 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books?sort_by=price_desc&page_size=5 "HTTP/1.1 401 Unauthorized"
2025-11-10 01:06:03 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:06:03 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:06:03 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:06:03 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:06:03 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:06:03 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:06:03 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:06:03 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:06:03 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T00:06:03.606918", "query_params": {"sort_by": "rating_desc", "page_size": "5"}}
2025-11-10 01:06:03 - api.auth - [33mWARNING[0m - Authentication failed: none
2025-11-10 01:06:03 - api.exception_handlers - [33mWARNING[0m - HTTP 401: {'error': 'Missing API key', 'message': 'Include X-API-Key header in your request', 'header': 'X-API-Key'} | Path: /api/v1/books | Method: GET | Client: 127.0.0.1
2025-11-10 01:06:03 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 401, "execution_time": "0.007s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:06:03.613916"}
2025-11-10 01:06:03 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books?sort_by=rating_desc&page_size=5 "HTTP/1.1 401 Unauthorized"
2025-11-10 01:06:03 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:06:03 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:06:03 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:06:03 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:06:03 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:06:03 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:06:03 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:06:03 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:06:03 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T00:06:03.696918", "query_params": {"sort_by": "recent", "page_size": "5"}}
2025-11-10 01:06:03 - api.auth - [33mWARNING[0m - Authentication failed: none
2025-11-10 01:06:03 - api.exception_handlers - [33mWARNING[0m - HTTP 401: {'error': 'Missing API key', 'message': 'Include X-API-Key header in your request', 'header': 'X-API-Key'} | Path: /api/v1/books | Method: GET | Client: 127.0.0.1
2025-11-10 01:06:03 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 401, "execution_time": "0.004s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:06:03.700914"}
2025-11-10 01:06:03 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books?sort_by=recent&page_size=5 "HTTP/1.1 401 Unauthorized"
2025-11-10 01:06:03 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:06:03 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:06:03 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:06:03 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:06:03 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:06:03 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:06:03 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:06:03 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:06:03 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T00:06:03.772925", "query_params": {"sort_by": "invalid_sort"}}
2025-11-10 01:06:03 - api.auth - [33mWARNING[0m - Authentication failed: none
2025-11-10 01:06:03 - api.exception_handlers - [33mWARNING[0m - HTTP 401: {'error': 'Missing API key', 'message': 'Include X-API-Key header in your request', 'header': 'X-API-Key'} | Path: /api/v1/books | Method: GET | Client: 127.0.0.1
2025-11-10 01:06:03 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 401, "execution_time": "0.006s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:06:03.778919"}
2025-11-10 01:06:03 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books?sort_by=invalid_sort "HTTP/1.1 401 Unauthorized"
2025-11-10 01:06:03 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:06:03 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:06:03 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:06:03 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:06:03 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:06:03 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:06:03 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:06:03 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:06:03 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T00:06:03.845921", "query_params": {"page_size": "1"}}
2025-11-10 01:06:03 - api.auth - [33mWARNING[0m - Authentication failed: none
2025-11-10 01:06:03 - api.exception_handlers - [33mWARNING[0m - HTTP 401: {'error': 'Missing API key', 'message': 'Include X-API-Key header in your request', 'header': 'X-API-Key'} | Path: /api/v1/books | Method: GET | Client: 127.0.0.1
2025-11-10 01:06:03 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 401, "execution_time": "0.005s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:06:03.849918"}
2025-11-10 01:06:03 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books?page_size=1 "HTTP/1.1 401 Unauthorized"
2025-11-10 01:06:03 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:06:03 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:06:03 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:06:03 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:06:03 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:06:03 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:06:03 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:06:03 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:06:03 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T00:06:03.949916"}
2025-11-10 01:06:03 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 01:06:03 - api.routes.books - [32mINFO[0m - Books list request: filters={}, sort=recent, page=1, total=1000, api_key=test-api...
2025-11-10 01:06:03 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 200, "execution_time": "0.019s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:06:03.968914"}
2025-11-10 01:06:03 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books "HTTP/1.1 200 OK"
2025-11-10 01:06:03 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:06:03 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:06:03 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:06:03 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:06:04 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:06:04 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:06:04 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:06:04 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:06:04 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/changes", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T00:06:04.029917"}
2025-11-10 01:06:04 - api.auth - [33mWARNING[0m - Authentication failed: none
2025-11-10 01:06:04 - api.exception_handlers - [33mWARNING[0m - HTTP 401: {'error': 'Missing API key', 'message': 'Include X-API-Key header in your request', 'header': 'X-API-Key'} | Path: /api/v1/changes | Method: GET | Client: 127.0.0.1
2025-11-10 01:06:04 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/changes", "status_code": 401, "execution_time": "0.006s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:06:04.034917"}
2025-11-10 01:06:04 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/changes "HTTP/1.1 401 Unauthorized"
2025-11-10 01:06:04 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:06:04 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:06:04 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:06:04 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:06:04 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:06:04 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:06:04 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:06:04 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:06:04 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/changes", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T00:06:04.113918"}
2025-11-10 01:06:04 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 01:06:04 - api.routes.changes - [32mINFO[0m - Changes list request: filters={}, page=1, total=5551, api_key=test-api...
2025-11-10 01:06:04 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/changes", "status_code": 200, "execution_time": "0.242s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:06:04.355917"}
2025-11-10 01:06:04 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/changes "HTTP/1.1 200 OK"
2025-11-10 01:06:04 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:06:04 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:06:04 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:06:04 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:06:04 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:06:04 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:06:04 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:06:04 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:06:04 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/changes", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T00:06:04.414918"}
2025-11-10 01:06:04 - api.auth - [33mWARNING[0m - Authentication failed: none
2025-11-10 01:06:04 - api.exception_handlers - [33mWARNING[0m - HTTP 401: {'error': 'Missing API key', 'message': 'Include X-API-Key header in your request', 'header': 'X-API-Key'} | Path: /api/v1/changes | Method: GET | Client: 127.0.0.1
2025-11-10 01:06:04 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/changes", "status_code": 401, "execution_time": "0.006s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:06:04.420919"}
2025-11-10 01:06:04 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/changes "HTTP/1.1 401 Unauthorized"
2025-11-10 01:06:04 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:06:04 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:06:04 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:06:04 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:06:04 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:06:04 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:06:04 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:06:04 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:06:04 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/changes", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T00:06:04.490918", "query_params": {"page": "1", "page_size": "5"}}
2025-11-10 01:06:04 - api.auth - [33mWARNING[0m - Authentication failed: none
2025-11-10 01:06:04 - api.exception_handlers - [33mWARNING[0m - HTTP 401: {'error': 'Missing API key', 'message': 'Include X-API-Key header in your request', 'header': 'X-API-Key'} | Path: /api/v1/changes | Method: GET | Client: 127.0.0.1
2025-11-10 01:06:04 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/changes", "status_code": 401, "execution_time": "0.005s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:06:04.495919"}
2025-11-10 01:06:04 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/changes?page=1&page_size=5 "HTTP/1.1 401 Unauthorized"
2025-11-10 01:06:04 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:06:04 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:06:04 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:06:04 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:06:04 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:06:04 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:06:04 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:06:04 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:06:04 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/changes", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T00:06:04.596918", "query_params": {"since": "2025-10-11T00:06:04"}}
2025-11-10 01:06:04 - api.auth - [33mWARNING[0m - Authentication failed: none
2025-11-10 01:06:04 - api.exception_handlers - [33mWARNING[0m - HTTP 401: {'error': 'Missing API key', 'message': 'Include X-API-Key header in your request', 'header': 'X-API-Key'} | Path: /api/v1/changes | Method: GET | Client: 127.0.0.1
2025-11-10 01:06:04 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/changes", "status_code": 401, "execution_time": "0.004s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:06:04.600919"}
2025-11-10 01:06:04 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/changes?since=2025-10-11T00:06:04 "HTTP/1.1 401 Unauthorized"
2025-11-10 01:06:04 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:06:04 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:06:04 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:06:04 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:06:04 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:06:04 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:06:04 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:06:04 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:06:04 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/changes", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T00:06:04.729914", "query_params": {"change_type": "update"}}
2025-11-10 01:06:04 - api.auth - [33mWARNING[0m - Authentication failed: none
2025-11-10 01:06:04 - api.exception_handlers - [33mWARNING[0m - HTTP 401: {'error': 'Missing API key', 'message': 'Include X-API-Key header in your request', 'header': 'X-API-Key'} | Path: /api/v1/changes | Method: GET | Client: 127.0.0.1
2025-11-10 01:06:04 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/changes", "status_code": 401, "execution_time": "0.003s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:06:04.732916"}
2025-11-10 01:06:04 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/changes?change_type=update "HTTP/1.1 401 Unauthorized"
2025-11-10 01:06:04 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:06:04 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:06:04 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:06:04 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:06:04 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:06:04 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:06:04 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:06:04 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:06:04 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/changes", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T00:06:04.865916", "query_params": {"since": "invalid-date"}}
2025-11-10 01:06:04 - api.auth - [33mWARNING[0m - Authentication failed: none
2025-11-10 01:06:04 - api.exception_handlers - [33mWARNING[0m - HTTP 401: {'error': 'Missing API key', 'message': 'Include X-API-Key header in your request', 'header': 'X-API-Key'} | Path: /api/v1/changes | Method: GET | Client: 127.0.0.1
2025-11-10 01:06:04 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/changes", "status_code": 401, "execution_time": "0.005s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:06:04.870916"}
2025-11-10 01:06:04 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/changes?since=invalid-date "HTTP/1.1 401 Unauthorized"
2025-11-10 01:06:04 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:06:04 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:06:04 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:06:04 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:06:04 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:06:04 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:06:04 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:06:04 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:06:04 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/changes", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T00:06:04.944916", "query_params": {"book_id": "invalid-id"}}
2025-11-10 01:06:04 - api.auth - [33mWARNING[0m - Authentication failed: none
2025-11-10 01:06:04 - api.exception_handlers - [33mWARNING[0m - HTTP 401: {'error': 'Missing API key', 'message': 'Include X-API-Key header in your request', 'header': 'X-API-Key'} | Path: /api/v1/changes | Method: GET | Client: 127.0.0.1
2025-11-10 01:06:04 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/changes", "status_code": 401, "execution_time": "0.005s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:06:04.949916"}
2025-11-10 01:06:04 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/changes?book_id=invalid-id "HTTP/1.1 401 Unauthorized"
2025-11-10 01:06:04 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:06:04 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:06:04 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:06:04 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:06:05 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:06:05 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:06:05 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:06:05 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:06:05 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/changes", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T00:06:05.027919", "query_params": {"page_size": "1"}}
2025-11-10 01:06:05 - api.auth - [33mWARNING[0m - Authentication failed: none
2025-11-10 01:06:05 - api.exception_handlers - [33mWARNING[0m - HTTP 401: {'error': 'Missing API key', 'message': 'Include X-API-Key header in your request', 'header': 'X-API-Key'} | Path: /api/v1/changes | Method: GET | Client: 127.0.0.1
2025-11-10 01:06:05 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/changes", "status_code": 401, "execution_time": "0.005s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:06:05.032918"}
2025-11-10 01:06:05 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/changes?page_size=1 "HTTP/1.1 401 Unauthorized"
2025-11-10 01:06:05 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:06:05 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:06:05 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:06:05 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:06:05 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:06:05 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:06:05 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:06:05 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:06:05 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/changes", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T00:06:05.114917", "query_params": {"page_size": "1"}}
2025-11-10 01:06:05 - api.auth - [33mWARNING[0m - Authentication failed: none
2025-11-10 01:06:05 - api.exception_handlers - [33mWARNING[0m - HTTP 401: {'error': 'Missing API key', 'message': 'Include X-API-Key header in your request', 'header': 'X-API-Key'} | Path: /api/v1/changes | Method: GET | Client: 127.0.0.1
2025-11-10 01:06:05 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/changes", "status_code": 401, "execution_time": "0.004s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:06:05.118914"}
2025-11-10 01:06:05 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/changes?page_size=1 "HTTP/1.1 401 Unauthorized"
2025-11-10 01:06:05 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:06:05 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:06:05 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:06:05 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:06:05 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:06:05 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:06:05 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:06:05 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:06:05 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/changes", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T00:06:05.192912", "query_params": {"page_size": "50"}}
2025-11-10 01:06:05 - api.auth - [33mWARNING[0m - Authentication failed: none
2025-11-10 01:06:05 - api.exception_handlers - [33mWARNING[0m - HTTP 401: {'error': 'Missing API key', 'message': 'Include X-API-Key header in your request', 'header': 'X-API-Key'} | Path: /api/v1/changes | Method: GET | Client: 127.0.0.1
2025-11-10 01:06:05 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/changes", "status_code": 401, "execution_time": "0.004s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:06:05.196914"}
2025-11-10 01:06:05 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/changes?page_size=50 "HTTP/1.1 401 Unauthorized"
2025-11-10 01:06:05 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:06:05 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:06:05 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:06:05 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:06:05 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:06:05 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:06:05 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:06:05 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:06:05 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/changes", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T00:06:05.265912", "query_params": {"page_size": "10"}}
2025-11-10 01:06:05 - api.auth - [33mWARNING[0m - Authentication failed: none
2025-11-10 01:06:05 - api.exception_handlers - [33mWARNING[0m - HTTP 401: {'error': 'Missing API key', 'message': 'Include X-API-Key header in your request', 'header': 'X-API-Key'} | Path: /api/v1/changes | Method: GET | Client: 127.0.0.1
2025-11-10 01:06:05 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/changes", "status_code": 401, "execution_time": "0.009s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:06:05.274915"}
2025-11-10 01:06:05 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/changes?page_size=10 "HTTP/1.1 401 Unauthorized"
2025-11-10 01:06:05 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:06:05 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:06:05 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:06:05 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:06:05 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:06:05 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:06:05 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:06:05 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:06:05 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/changes", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T00:06:05.360916", "query_params": {"change_type": "update", "page_size": "10"}}
2025-11-10 01:06:05 - api.auth - [33mWARNING[0m - Authentication failed: none
2025-11-10 01:06:05 - api.exception_handlers - [33mWARNING[0m - HTTP 401: {'error': 'Missing API key', 'message': 'Include X-API-Key header in your request', 'header': 'X-API-Key'} | Path: /api/v1/changes | Method: GET | Client: 127.0.0.1
2025-11-10 01:06:05 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/changes", "status_code": 401, "execution_time": "0.005s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:06:05.365919"}
2025-11-10 01:06:05 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/changes?change_type=update&page_size=10 "HTTP/1.1 401 Unauthorized"
2025-11-10 01:06:05 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:06:05 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:06:05 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:06:05 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:06:05 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:06:05 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:06:05 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:06:05 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:06:05 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/changes", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T00:06:05.665917", "query_params": {"page_size": "10"}}
2025-11-10 01:06:05 - api.auth - [33mWARNING[0m - Authentication failed: none
2025-11-10 01:06:05 - api.exception_handlers - [33mWARNING[0m - HTTP 401: {'error': 'Missing API key', 'message': 'Include X-API-Key header in your request', 'header': 'X-API-Key'} | Path: /api/v1/changes | Method: GET | Client: 127.0.0.1
2025-11-10 01:06:05 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/changes", "status_code": 401, "execution_time": "0.010s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:06:05.675919"}
2025-11-10 01:06:05 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/changes?page_size=10 "HTTP/1.1 401 Unauthorized"
2025-11-10 01:06:05 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:06:05 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:06:06 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:06:06 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:06:07 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:06:07 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:06:07 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:06:07 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:06:07 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/changes", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T00:06:07.400919"}
2025-11-10 01:06:07 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 01:06:07 - api.routes.changes - [32mINFO[0m - Changes list request: filters={}, page=1, total=5551, api_key=test-api...
2025-11-10 01:06:07 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/changes", "status_code": 200, "execution_time": "0.389s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:06:07.788919"}
2025-11-10 01:06:07 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/changes "HTTP/1.1 200 OK"
2025-11-10 01:06:08 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:06:08 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:06:08 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:06:08 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:06:08 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:06:08 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:06:08 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:06:08 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:06:08 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/changes", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T00:06:08.400917", "query_params": {"since": "2026-11-10T00:06:08"}}
2025-11-10 01:06:08 - api.auth - [33mWARNING[0m - Authentication failed: none
2025-11-10 01:06:08 - api.exception_handlers - [33mWARNING[0m - HTTP 401: {'error': 'Missing API key', 'message': 'Include X-API-Key header in your request', 'header': 'X-API-Key'} | Path: /api/v1/changes | Method: GET | Client: 127.0.0.1
2025-11-10 01:06:08 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/changes", "status_code": 401, "execution_time": "0.012s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:06:08.411919"}
2025-11-10 01:06:08 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/changes?since=2026-11-10T00:06:08 "HTTP/1.1 401 Unauthorized"
2025-11-10 01:06:08 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:06:08 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:06:08 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:06:08 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:06:08 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:06:08 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:06:08 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:06:08 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:06:08 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/changes", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T00:06:08.557917"}
2025-11-10 01:06:08 - api.auth - [33mWARNING[0m - Authentication failed: none
2025-11-10 01:06:08 - api.exception_handlers - [33mWARNING[0m - HTTP 401: {'error': 'Missing API key', 'message': 'Include X-API-Key header in your request', 'header': 'X-API-Key'} | Path: /api/v1/changes | Method: GET | Client: 127.0.0.1
2025-11-10 01:06:08 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/changes", "status_code": 401, "execution_time": "0.016s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:06:08.573916"}
2025-11-10 01:06:08 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/changes "HTTP/1.1 401 Unauthorized"
2025-11-10 01:06:08 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:06:08 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:06:08 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:06:08 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:06:08 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:06:08 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:06:08 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:06:08 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:06:08 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/invalid-endpoint", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T00:06:08.687919"}
2025-11-10 01:06:08 - api.exception_handlers - [33mWARNING[0m - HTTP 404: Not Found | Path: /api/v1/invalid-endpoint | Method: GET | Client: 127.0.0.1
2025-11-10 01:06:08 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/invalid-endpoint", "status_code": 404, "execution_time": "0.005s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:06:08.691920"}
2025-11-10 01:06:08 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/invalid-endpoint "HTTP/1.1 404 Not Found"
2025-11-10 01:06:08 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:06:08 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:06:08 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:06:08 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:06:08 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:06:08 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:06:08 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:06:08 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:06:08 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books/507f1f77bcf86cd799439999", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T00:06:08.782916"}
2025-11-10 01:06:08 - api.auth - [33mWARNING[0m - Authentication failed: none
2025-11-10 01:06:08 - api.exception_handlers - [33mWARNING[0m - HTTP 401: {'error': 'Missing API key', 'message': 'Include X-API-Key header in your request', 'header': 'X-API-Key'} | Path: /api/v1/books/507f1f77bcf86cd799439999 | Method: GET | Client: 127.0.0.1
2025-11-10 01:06:08 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books/507f1f77bcf86cd799439999", "status_code": 401, "execution_time": "0.006s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:06:08.788921"}
2025-11-10 01:06:08 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books/507f1f77bcf86cd799439999 "HTTP/1.1 401 Unauthorized"
2025-11-10 01:06:08 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:06:08 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:06:08 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:06:08 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:06:08 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:06:08 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:06:08 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:06:08 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:06:08 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books/invalid-id-123", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T00:06:08.864915"}
2025-11-10 01:06:08 - api.auth - [33mWARNING[0m - Authentication failed: none
2025-11-10 01:06:08 - api.exception_handlers - [33mWARNING[0m - HTTP 401: {'error': 'Missing API key', 'message': 'Include X-API-Key header in your request', 'header': 'X-API-Key'} | Path: /api/v1/books/invalid-id-123 | Method: GET | Client: 127.0.0.1
2025-11-10 01:06:08 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books/invalid-id-123", "status_code": 401, "execution_time": "0.003s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:06:08.867914"}
2025-11-10 01:06:08 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books/invalid-id-123 "HTTP/1.1 401 Unauthorized"
2025-11-10 01:06:08 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:06:08 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:06:08 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:06:08 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:06:08 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:06:08 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:06:08 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:06:08 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:06:08 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T00:06:08.916914", "query_params": {"page": "0"}}
2025-11-10 01:06:08 - api.auth - [33mWARNING[0m - Authentication failed: none
2025-11-10 01:06:08 - api.exception_handlers - [33mWARNING[0m - HTTP 401: {'error': 'Missing API key', 'message': 'Include X-API-Key header in your request', 'header': 'X-API-Key'} | Path: /api/v1/books | Method: GET | Client: 127.0.0.1
2025-11-10 01:06:08 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 401, "execution_time": "0.006s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:06:08.922914"}
2025-11-10 01:06:08 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books?page=0 "HTTP/1.1 401 Unauthorized"
2025-11-10 01:06:08 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:06:08 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:06:08 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:06:08 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:06:08 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:06:08 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:06:09 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:06:09 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:06:09 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T00:06:09.015916", "query_params": {"page_size": "200"}}
2025-11-10 01:06:09 - api.auth - [33mWARNING[0m - Authentication failed: none
2025-11-10 01:06:09 - api.exception_handlers - [33mWARNING[0m - HTTP 401: {'error': 'Missing API key', 'message': 'Include X-API-Key header in your request', 'header': 'X-API-Key'} | Path: /api/v1/books | Method: GET | Client: 127.0.0.1
2025-11-10 01:06:09 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 401, "execution_time": "0.009s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:06:09.024916"}
2025-11-10 01:06:09 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books?page_size=200 "HTTP/1.1 401 Unauthorized"
2025-11-10 01:06:09 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:06:09 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:06:09 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:06:09 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:06:09 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:06:09 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:06:09 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:06:09 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:06:09 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T00:06:09.099914", "query_params": {"min_rating": "10"}}
2025-11-10 01:06:09 - api.auth - [33mWARNING[0m - Authentication failed: none
2025-11-10 01:06:09 - api.exception_handlers - [33mWARNING[0m - HTTP 401: {'error': 'Missing API key', 'message': 'Include X-API-Key header in your request', 'header': 'X-API-Key'} | Path: /api/v1/books | Method: GET | Client: 127.0.0.1
2025-11-10 01:06:09 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 401, "execution_time": "0.005s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:06:09.104916"}
2025-11-10 01:06:09 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books?min_rating=10 "HTTP/1.1 401 Unauthorized"
2025-11-10 01:06:09 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:06:09 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:06:09 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:06:09 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:06:09 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:06:09 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:06:09 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:06:09 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:06:09 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/changes", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T00:06:09.175922", "query_params": {"since": "not-a-date"}}
2025-11-10 01:06:09 - api.auth - [33mWARNING[0m - Authentication failed: none
2025-11-10 01:06:09 - api.exception_handlers - [33mWARNING[0m - HTTP 401: {'error': 'Missing API key', 'message': 'Include X-API-Key header in your request', 'header': 'X-API-Key'} | Path: /api/v1/changes | Method: GET | Client: 127.0.0.1
2025-11-10 01:06:09 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/changes", "status_code": 401, "execution_time": "0.006s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:06:09.181918"}
2025-11-10 01:06:09 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/changes?since=not-a-date "HTTP/1.1 401 Unauthorized"
2025-11-10 01:06:09 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:06:09 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:06:09 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:06:09 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:06:09 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:06:09 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:06:09 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:06:09 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:06:09 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books/invalid-id", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T00:06:09.259912"}
2025-11-10 01:06:09 - api.auth - [33mWARNING[0m - Authentication failed: none
2025-11-10 01:06:09 - api.exception_handlers - [33mWARNING[0m - HTTP 401: {'error': 'Missing API key', 'message': 'Include X-API-Key header in your request', 'header': 'X-API-Key'} | Path: /api/v1/books/invalid-id | Method: GET | Client: 127.0.0.1
2025-11-10 01:06:09 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books/invalid-id", "status_code": 401, "execution_time": "0.005s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:06:09.264917"}
2025-11-10 01:06:09 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books/invalid-id "HTTP/1.1 401 Unauthorized"
2025-11-10 01:06:09 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:06:09 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:06:09 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:06:09 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:06:09 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:06:09 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:06:09 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:06:09 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:06:09 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books/507f1f77bcf86cd799439999", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T00:06:09.401918"}
2025-11-10 01:06:09 - api.auth - [33mWARNING[0m - Authentication failed: none
2025-11-10 01:06:09 - api.exception_handlers - [33mWARNING[0m - HTTP 401: {'error': 'Missing API key', 'message': 'Include X-API-Key header in your request', 'header': 'X-API-Key'} | Path: /api/v1/books/507f1f77bcf86cd799439999 | Method: GET | Client: 127.0.0.1
2025-11-10 01:06:09 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books/507f1f77bcf86cd799439999", "status_code": 401, "execution_time": "0.009s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:06:09.410919"}
2025-11-10 01:06:09 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books/507f1f77bcf86cd799439999 "HTTP/1.1 401 Unauthorized"
2025-11-10 01:06:09 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:06:09 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:06:09 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:06:09 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:06:09 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:06:09 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:06:09 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:06:09 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:06:09 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "POST", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T00:06:09.498915"}
2025-11-10 01:06:09 - api.exception_handlers - [33mWARNING[0m - HTTP 405: Method Not Allowed | Path: /api/v1/books | Method: POST | Client: 127.0.0.1
2025-11-10 01:06:09 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "POST", "path": "/api/v1/books", "status_code": 405, "execution_time": "0.004s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:06:09.502920"}
2025-11-10 01:06:09 - httpx - [32mINFO[0m - HTTP Request: POST http://test/api/v1/books "HTTP/1.1 405 Method Not Allowed"
2025-11-10 01:06:09 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:06:09 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:06:09 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:06:09 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:06:09 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:06:09 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:06:09 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:06:09 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:06:09 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "POST", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T00:06:09.578914"}
2025-11-10 01:06:09 - api.exception_handlers - [33mWARNING[0m - HTTP 405: Method Not Allowed | Path: /api/v1/books | Method: POST | Client: 127.0.0.1
2025-11-10 01:06:09 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "POST", "path": "/api/v1/books", "status_code": 405, "execution_time": "0.005s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:06:09.583917"}
2025-11-10 01:06:09 - httpx - [32mINFO[0m - HTTP Request: POST http://test/api/v1/books "HTTP/1.1 405 Method Not Allowed"
2025-11-10 01:06:09 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:06:09 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:06:09 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:06:09 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:06:09 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:06:09 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:06:09 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:06:09 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:06:09 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/health", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T00:06:09.660918"}
2025-11-10 01:06:09 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/health", "status_code": 200, "execution_time": "0.015s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:06:09.675919"}
2025-11-10 01:06:09 - httpx - [32mINFO[0m - HTTP Request: GET http://test/health "HTTP/1.1 200 OK"
2025-11-10 01:06:09 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:06:09 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:06:09 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:06:09 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:06:09 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:06:09 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:06:09 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:06:09 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:06:09 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/health", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T00:06:09.746918"}
2025-11-10 01:06:09 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/health", "status_code": 200, "execution_time": "0.029s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:06:09.775918"}
2025-11-10 01:06:09 - httpx - [32mINFO[0m - HTTP Request: GET http://test/health "HTTP/1.1 200 OK"
2025-11-10 01:06:09 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:06:09 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:06:09 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:06:09 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:06:09 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:06:09 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:06:09 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:06:09 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:06:09 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/health", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T00:06:09.875912"}
2025-11-10 01:06:09 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/health", "status_code": 200, "execution_time": "0.014s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:06:09.889919"}
2025-11-10 01:06:09 - httpx - [32mINFO[0m - HTTP Request: GET http://test/health "HTTP/1.1 200 OK"
2025-11-10 01:06:09 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:06:09 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:06:09 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:06:09 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:06:09 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:06:09 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:06:09 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:06:09 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:06:09 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/health", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T00:06:09.964919"}
2025-11-10 01:06:09 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/health", "status_code": 200, "execution_time": "0.013s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:06:09.977919"}
2025-11-10 01:06:09 - httpx - [32mINFO[0m - HTTP Request: GET http://test/health "HTTP/1.1 200 OK"
2025-11-10 01:06:09 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:06:09 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:06:10 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:06:10 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:06:10 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:06:10 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:06:10 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:06:10 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:06:10 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/books", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T00:06:10.051923"}
2025-11-10 01:06:10 - api.exception_handlers - [33mWARNING[0m - HTTP 404: Not Found | Path: /api/books | Method: GET | Client: 127.0.0.1
2025-11-10 01:06:10 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/books", "status_code": 404, "execution_time": "0.009s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:06:10.060921"}
2025-11-10 01:06:10 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/books "HTTP/1.1 404 Not Found"
2025-11-10 01:06:10 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:06:10 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:06:10 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:06:10 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:06:10 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:06:10 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:06:10 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:06:10 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:06:10 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T00:06:10.133923"}
2025-11-10 01:06:10 - api.auth - [33mWARNING[0m - Authentication failed: none
2025-11-10 01:06:10 - api.exception_handlers - [33mWARNING[0m - HTTP 401: {'error': 'Missing API key', 'message': 'Include X-API-Key header in your request', 'header': 'X-API-Key'} | Path: /api/v1/books | Method: GET | Client: 127.0.0.1
2025-11-10 01:06:10 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 401, "execution_time": "0.009s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:06:10.141925"}
2025-11-10 01:06:10 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books "HTTP/1.1 401 Unauthorized"
2025-11-10 01:06:10 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:06:10 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:06:10 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:06:10 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:06:10 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:06:10 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:06:10 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:06:10 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:06:10 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T00:06:10.213922"}
2025-11-10 01:06:10 - api.auth - [33mWARNING[0m - Authentication failed: none
2025-11-10 01:06:10 - api.exception_handlers - [33mWARNING[0m - HTTP 401: {'error': 'Missing API key', 'message': 'Include X-API-Key header in your request', 'header': 'X-API-Key'} | Path: /api/v1/books | Method: GET | Client: 127.0.0.1
2025-11-10 01:06:10 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 401, "execution_time": "0.011s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:06:10.223924"}
2025-11-10 01:06:10 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books "HTTP/1.1 401 Unauthorized"
2025-11-10 01:06:10 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:06:10 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:06:10 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:06:10 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:06:10 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:06:10 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:06:10 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:06:10 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:06:10 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T00:06:10.296918"}
2025-11-10 01:06:10 - api.auth - [33mWARNING[0m - Authentication failed: none
2025-11-10 01:06:10 - api.exception_handlers - [33mWARNING[0m - HTTP 401: {'error': 'Missing API key', 'message': 'Include X-API-Key header in your request', 'header': 'X-API-Key'} | Path: /api/v1/books | Method: GET | Client: 127.0.0.1
2025-11-10 01:06:10 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 401, "execution_time": "0.005s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:06:10.301917"}
2025-11-10 01:06:10 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books "HTTP/1.1 401 Unauthorized"
2025-11-10 01:06:10 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:06:10 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:06:10 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:06:10 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:06:10 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:06:10 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:06:10 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:06:10 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:06:10 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T00:06:10.412920"}
2025-11-10 01:06:10 - api.auth - [33mWARNING[0m - Authentication failed: none
2025-11-10 01:06:10 - api.exception_handlers - [33mWARNING[0m - HTTP 401: {'error': 'Missing API key', 'message': 'Include X-API-Key header in your request', 'header': 'X-API-Key'} | Path: /api/v1/books | Method: GET | Client: 127.0.0.1
2025-11-10 01:06:10 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 401, "execution_time": "0.004s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:06:10.416916"}
2025-11-10 01:06:10 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books "HTTP/1.1 401 Unauthorized"
2025-11-10 01:06:10 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:06:10 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:06:10 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:06:10 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:06:10 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:06:10 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:06:10 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:06:10 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:06:10 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T00:06:10.481919", "query_params": {"page": "999999"}}
2025-11-10 01:06:10 - api.auth - [33mWARNING[0m - Authentication failed: none
2025-11-10 01:06:10 - api.exception_handlers - [33mWARNING[0m - HTTP 401: {'error': 'Missing API key', 'message': 'Include X-API-Key header in your request', 'header': 'X-API-Key'} | Path: /api/v1/books | Method: GET | Client: 127.0.0.1
2025-11-10 01:06:10 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 401, "execution_time": "0.005s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:06:10.486920"}
2025-11-10 01:06:10 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books?page=999999 "HTTP/1.1 401 Unauthorized"
2025-11-10 01:06:10 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:06:10 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:06:10 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:06:10 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:06:10 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:06:10 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:06:10 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:06:10 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:06:10 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T00:06:10.569916", "query_params": {"page_size": "100"}}
2025-11-10 01:06:10 - api.auth - [33mWARNING[0m - Authentication failed: none
2025-11-10 01:06:10 - api.exception_handlers - [33mWARNING[0m - HTTP 401: {'error': 'Missing API key', 'message': 'Include X-API-Key header in your request', 'header': 'X-API-Key'} | Path: /api/v1/books | Method: GET | Client: 127.0.0.1
2025-11-10 01:06:10 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 401, "execution_time": "0.005s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:06:10.574920"}
2025-11-10 01:06:10 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books?page_size=100 "HTTP/1.1 401 Unauthorized"
2025-11-10 01:06:10 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:06:10 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:06:10 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:06:10 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:06:10 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:06:10 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:06:10 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:06:10 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:06:10 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T00:06:10.651921", "query_params": {"page_size": "1"}}
2025-11-10 01:06:10 - api.auth - [33mWARNING[0m - Authentication failed: none
2025-11-10 01:06:10 - api.exception_handlers - [33mWARNING[0m - HTTP 401: {'error': 'Missing API key', 'message': 'Include X-API-Key header in your request', 'header': 'X-API-Key'} | Path: /api/v1/books | Method: GET | Client: 127.0.0.1
2025-11-10 01:06:10 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 401, "execution_time": "0.008s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:06:10.659924"}
2025-11-10 01:06:10 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books?page_size=1 "HTTP/1.1 401 Unauthorized"
2025-11-10 01:06:10 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:06:10 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:06:10 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:06:10 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:06:10 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:06:10 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:06:10 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:06:10 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:06:10 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T00:06:10.729916", "query_params": {"search": "test & book"}}
2025-11-10 01:06:10 - api.auth - [33mWARNING[0m - Authentication failed: none
2025-11-10 01:06:10 - api.exception_handlers - [33mWARNING[0m - HTTP 401: {'error': 'Missing API key', 'message': 'Include X-API-Key header in your request', 'header': 'X-API-Key'} | Path: /api/v1/books | Method: GET | Client: 127.0.0.1
2025-11-10 01:06:10 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 401, "execution_time": "0.004s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:06:10.733918"}
2025-11-10 01:06:10 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books?search=test%20%26%20book "HTTP/1.1 401 Unauthorized"
2025-11-10 01:06:10 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:06:10 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:06:10 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:06:10 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:06:10 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:06:10 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:06:10 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:06:10 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:06:10 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T00:06:10.840939", "query_params": {"search": "caf\u00e9"}}
2025-11-10 01:06:10 - api.auth - [33mWARNING[0m - Authentication failed: none
2025-11-10 01:06:10 - api.exception_handlers - [33mWARNING[0m - HTTP 401: {'error': 'Missing API key', 'message': 'Include X-API-Key header in your request', 'header': 'X-API-Key'} | Path: /api/v1/books | Method: GET | Client: 127.0.0.1
2025-11-10 01:06:10 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 401, "execution_time": "0.007s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:06:10.847920"}
2025-11-10 01:06:10 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books?search=caf%C3%A9 "HTTP/1.1 401 Unauthorized"
2025-11-10 01:06:10 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:06:10 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:06:10 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:06:10 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:06:10 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:06:10 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:06:10 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:06:10 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:06:10 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T00:06:10.931917", "query_params": {"search": ""}}
2025-11-10 01:06:10 - api.auth - [33mWARNING[0m - Authentication failed: none
2025-11-10 01:06:10 - api.exception_handlers - [33mWARNING[0m - HTTP 401: {'error': 'Missing API key', 'message': 'Include X-API-Key header in your request', 'header': 'X-API-Key'} | Path: /api/v1/books | Method: GET | Client: 127.0.0.1
2025-11-10 01:06:10 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 401, "execution_time": "0.005s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:06:10.936918"}
2025-11-10 01:06:10 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books?search= "HTTP/1.1 401 Unauthorized"
2025-11-10 01:06:10 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:06:10 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:06:10 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:06:10 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:06:11 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:06:11 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:06:11 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:06:11 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:06:11 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T00:06:11.029917", "query_params": {"min_price": "-10"}}
2025-11-10 01:06:11 - api.auth - [33mWARNING[0m - Authentication failed: none
2025-11-10 01:06:11 - api.exception_handlers - [33mWARNING[0m - HTTP 401: {'error': 'Missing API key', 'message': 'Include X-API-Key header in your request', 'header': 'X-API-Key'} | Path: /api/v1/books | Method: GET | Client: 127.0.0.1
2025-11-10 01:06:11 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 401, "execution_time": "0.003s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:06:11.032915"}
2025-11-10 01:06:11 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books?min_price=-10 "HTTP/1.1 401 Unauthorized"
2025-11-10 01:06:11 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:06:11 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:06:11 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:06:11 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:06:11 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:06:11 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:06:11 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:06:11 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:06:11 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T00:06:11.114931"}
2025-11-10 01:06:11 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T00:06:11.116917"}
2025-11-10 01:06:11 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T00:06:11.118916"}
2025-11-10 01:06:11 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T00:06:11.121941"}
2025-11-10 01:06:11 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T00:06:11.124924"}
2025-11-10 01:06:11 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 01:06:11 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 01:06:11 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 01:06:11 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 01:06:11 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 01:06:11 - api.routes.books - [32mINFO[0m - Books list request: filters={}, sort=recent, page=1, total=1000, api_key=test-api...
2025-11-10 01:06:11 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 200, "execution_time": "0.067s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:06:11.181917"}
2025-11-10 01:06:11 - api.routes.books - [32mINFO[0m - Books list request: filters={}, sort=recent, page=1, total=1000, api_key=test-api...
2025-11-10 01:06:11 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 200, "execution_time": "0.066s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:06:11.190918"}
2025-11-10 01:06:11 - api.routes.books - [32mINFO[0m - Books list request: filters={}, sort=recent, page=1, total=1000, api_key=test-api...
2025-11-10 01:06:11 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 200, "execution_time": "0.073s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:06:11.194918"}
2025-11-10 01:06:11 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books "HTTP/1.1 200 OK"
2025-11-10 01:06:11 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books "HTTP/1.1 200 OK"
2025-11-10 01:06:11 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books "HTTP/1.1 200 OK"
2025-11-10 01:06:11 - api.routes.books - [32mINFO[0m - Books list request: filters={}, sort=recent, page=1, total=1000, api_key=test-api...
2025-11-10 01:06:11 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 200, "execution_time": "0.100s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:06:11.216916"}
2025-11-10 01:06:11 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books "HTTP/1.1 200 OK"
2025-11-10 01:06:11 - api.routes.books - [32mINFO[0m - Books list request: filters={}, sort=recent, page=1, total=1000, api_key=test-api...
2025-11-10 01:06:11 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 200, "execution_time": "0.111s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:06:11.228917"}
2025-11-10 01:06:11 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books "HTTP/1.1 200 OK"
2025-11-10 01:06:11 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:06:11 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:14:28 - root - [32mINFO[0m - Logging configured: level=INFO, dir=logs
2025-11-10 01:14:28 - api.exception_handlers - [32mINFO[0m - âœ… Exception handlers registered
2025-11-10 01:14:28 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:14:28 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:14:28 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:14:28 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:14:28 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:14:28 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:14:28 - api.rate_limiter - [32mINFO[0m - Rate limiting enabled: 100 requests per hour
2025-11-10 01:14:28 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T00:14:28.837666"}
2025-11-10 01:14:28 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 01:14:28 - api.routes.books - [32mINFO[0m - Books list request: filters={}, sort=recent, page=1, total=1000, api_key=test-api...
2025-11-10 01:14:28 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 200, "execution_time": "0.027s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:14:28.864671"}
2025-11-10 01:14:28 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books "HTTP/1.1 200 OK"
2025-11-10 01:14:28 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:14:28 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:14:28 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:14:28 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:14:28 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:14:28 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:14:28 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:14:28 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:14:28 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "invalid-...", "timestamp": "2025-11-10T00:14:28.944669"}
2025-11-10 01:14:28 - api.auth - [33mWARNING[0m - Authentication failed: invalid-...
2025-11-10 01:14:28 - api.exception_handlers - [33mWARNING[0m - HTTP 401: {'error': 'Invalid API key', 'message': 'The provided API key is not valid', 'hint': 'Check your API key or contact the administrator'} | Path: /api/v1/books | Method: GET | Client: 127.0.0.1
2025-11-10 01:14:28 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 401, "execution_time": "0.008s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:14:28.952668"}
2025-11-10 01:14:28 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books "HTTP/1.1 401 Unauthorized"
2025-11-10 01:14:28 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:14:28 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:16:39 - root - [32mINFO[0m - Logging configured: level=INFO, dir=logs
2025-11-10 01:16:39 - api.exception_handlers - [32mINFO[0m - âœ… Exception handlers registered
2025-11-10 01:16:40 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:16:40 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:16:40 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:16:40 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:16:40 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:16:40 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:16:40 - api.rate_limiter - [32mINFO[0m - Rate limiting enabled: 100 requests per hour
2025-11-10 01:16:40 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T00:16:40.709938"}
2025-11-10 01:16:40 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 01:16:40 - api.routes.books - [32mINFO[0m - Books list request: filters={}, sort=recent, page=1, total=1000, api_key=test-api...
2025-11-10 01:16:40 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 200, "execution_time": "0.048s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:16:40.757938"}
2025-11-10 01:16:40 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books "HTTP/1.1 200 OK"
2025-11-10 01:16:40 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:16:40 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:16:40 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:16:40 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:16:40 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:16:40 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:16:41 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:16:41 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:16:41 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "invalid-...", "timestamp": "2025-11-10T00:16:41.042940"}
2025-11-10 01:16:41 - api.auth - [33mWARNING[0m - Authentication failed: invalid-...
2025-11-10 01:16:41 - api.exception_handlers - [33mWARNING[0m - HTTP 401: {'error': 'Invalid API key', 'message': 'The provided API key is not valid', 'hint': 'Check your API key or contact the administrator'} | Path: /api/v1/books | Method: GET | Client: 127.0.0.1
2025-11-10 01:16:41 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 401, "execution_time": "0.004s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:16:41.046939"}
2025-11-10 01:16:41 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books "HTTP/1.1 401 Unauthorized"
2025-11-10 01:16:41 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:16:41 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:16:41 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:16:41 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:16:41 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:16:41 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:16:41 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:16:41 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:16:41 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T00:16:41.285947"}
2025-11-10 01:16:41 - api.auth - [33mWARNING[0m - Authentication failed: none
2025-11-10 01:16:41 - api.exception_handlers - [33mWARNING[0m - HTTP 401: {'error': 'Missing API key', 'message': 'Include X-API-Key header in your request', 'header': 'X-API-Key'} | Path: /api/v1/books | Method: GET | Client: 127.0.0.1
2025-11-10 01:16:41 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 401, "execution_time": "0.008s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:16:41.293951"}
2025-11-10 01:16:41 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books "HTTP/1.1 401 Unauthorized"
2025-11-10 01:16:41 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:16:41 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:16:41 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:16:41 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:16:41 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:16:41 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:16:41 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:16:41 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:16:41 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T00:16:41.544953"}
2025-11-10 01:16:41 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 01:16:41 - api.routes.books - [32mINFO[0m - Books list request: filters={}, sort=recent, page=1, total=1000, api_key=test-api...
2025-11-10 01:16:41 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 200, "execution_time": "0.134s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:16:41.678950"}
2025-11-10 01:16:41 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books "HTTP/1.1 200 OK"
2025-11-10 01:16:41 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "TEST-API...", "timestamp": "2025-11-10T00:16:41.686951"}
2025-11-10 01:16:41 - api.auth - [33mWARNING[0m - Authentication failed: TEST-API...
2025-11-10 01:16:41 - api.exception_handlers - [33mWARNING[0m - HTTP 401: {'error': 'Invalid API key', 'message': 'The provided API key is not valid', 'hint': 'Check your API key or contact the administrator'} | Path: /api/v1/books | Method: GET | Client: 127.0.0.1
2025-11-10 01:16:41 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 401, "execution_time": "0.006s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:16:41.692950"}
2025-11-10 01:16:41 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books "HTTP/1.1 401 Unauthorized"
2025-11-10 01:16:42 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:16:42 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:16:42 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:16:42 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:16:43 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:16:43 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:16:43 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:16:43 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:16:44 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T00:16:44.084488"}
2025-11-10 01:16:44 - api.auth - [33mWARNING[0m - Authentication failed: none
2025-11-10 01:16:44 - api.exception_handlers - [33mWARNING[0m - HTTP 401: {'error': 'Missing API key', 'message': 'Include X-API-Key header in your request', 'header': 'X-API-Key'} | Path: /api/v1/books | Method: GET | Client: 127.0.0.1
2025-11-10 01:16:44 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 401, "execution_time": "0.015s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:16:44.095488"}
2025-11-10 01:16:44 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books "HTTP/1.1 401 Unauthorized"
2025-11-10 01:16:44 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:16:44 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:16:44 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:16:44 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:16:44 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:16:44 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:16:44 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:16:44 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:16:44 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-key...", "timestamp": "2025-11-10T00:16:44.392489"}
2025-11-10 01:16:44 - api.auth - [33mWARNING[0m - Authentication failed: test-key...
2025-11-10 01:16:44 - api.exception_handlers - [33mWARNING[0m - HTTP 401: {'error': 'Invalid API key', 'message': 'The provided API key is not valid', 'hint': 'Check your API key or contact the administrator'} | Path: /api/v1/books | Method: GET | Client: 127.0.0.1
2025-11-10 01:16:44 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 401, "execution_time": "0.009s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:16:44.401490"}
2025-11-10 01:16:44 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books "HTTP/1.1 401 Unauthorized"
2025-11-10 01:16:44 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:16:44 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:16:44 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:16:44 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:16:44 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:16:44 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:16:44 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:16:44 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:16:44 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T00:16:44.986988"}
2025-11-10 01:16:44 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 01:16:45 - api.routes.books - [32mINFO[0m - Books list request: filters={}, sort=recent, page=1, total=1000, api_key=test-api...
2025-11-10 01:16:45 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 200, "execution_time": "0.032s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:16:45.018988"}
2025-11-10 01:16:45 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books "HTTP/1.1 200 OK"
2025-11-10 01:16:45 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:16:45 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:16:45 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:16:45 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:16:45 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:16:45 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:16:45 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:16:45 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:16:45 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T00:16:45.160993"}
2025-11-10 01:16:45 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 01:16:45 - api.routes.books - [32mINFO[0m - Books list request: filters={}, sort=recent, page=1, total=1000, api_key=test-api...
2025-11-10 01:16:45 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 200, "execution_time": "0.028s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:16:45.189073"}
2025-11-10 01:16:45 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books "HTTP/1.1 200 OK"
2025-11-10 01:16:45 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:16:45 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:16:45 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:16:45 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:16:45 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:16:45 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:16:45 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:16:45 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:16:45 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T00:16:45.287076"}
2025-11-10 01:16:45 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 01:16:45 - api.routes.books - [32mINFO[0m - Books list request: filters={}, sort=recent, page=1, total=1000, api_key=test-api...
2025-11-10 01:16:45 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 200, "execution_time": "0.032s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:16:45.319074"}
2025-11-10 01:16:45 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books "HTTP/1.1 200 OK"
2025-11-10 01:16:45 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T00:16:45.326074"}
2025-11-10 01:16:45 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 01:16:45 - api.routes.books - [32mINFO[0m - Books list request: filters={}, sort=recent, page=1, total=1000, api_key=test-api...
2025-11-10 01:16:45 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 200, "execution_time": "0.025s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:16:45.351073"}
2025-11-10 01:16:45 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books "HTTP/1.1 200 OK"
2025-11-10 01:16:45 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:16:45 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:16:45 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:16:45 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:16:45 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:16:45 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:16:45 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:16:45 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:16:45 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T00:16:45.431077"}
2025-11-10 01:16:45 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 01:16:45 - api.routes.books - [32mINFO[0m - Books list request: filters={}, sort=recent, page=1, total=1000, api_key=test-api...
2025-11-10 01:16:45 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 200, "execution_time": "0.027s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:16:45.458076"}
2025-11-10 01:16:45 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books "HTTP/1.1 200 OK"
2025-11-10 01:16:45 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "invalid-...", "timestamp": "2025-11-10T00:16:45.462071"}
2025-11-10 01:16:45 - api.auth - [33mWARNING[0m - Authentication failed: invalid-...
2025-11-10 01:16:45 - api.exception_handlers - [33mWARNING[0m - HTTP 401: {'error': 'Invalid API key', 'message': 'The provided API key is not valid', 'hint': 'Check your API key or contact the administrator'} | Path: /api/v1/books | Method: GET | Client: 127.0.0.1
2025-11-10 01:16:45 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 401, "execution_time": "0.004s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:16:45.466080"}
2025-11-10 01:16:45 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books "HTTP/1.1 401 Unauthorized"
2025-11-10 01:16:45 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:16:45 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:16:45 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:16:45 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:16:45 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:16:45 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:16:45 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:16:45 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:16:45 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/health", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T00:16:45.531068"}
2025-11-10 01:16:45 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/health", "status_code": 200, "execution_time": "0.016s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:16:45.547073"}
2025-11-10 01:16:45 - httpx - [32mINFO[0m - HTTP Request: GET http://test/health "HTTP/1.1 200 OK"
2025-11-10 01:16:45 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:16:45 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:16:45 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:16:45 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:16:45 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:16:45 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:16:45 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:16:45 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:16:45 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T00:16:45.681070"}
2025-11-10 01:16:45 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 01:16:45 - api.routes.books - [32mINFO[0m - Books list request: filters={}, sort=recent, page=1, total=1000, api_key=test-api...
2025-11-10 01:16:45 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 200, "execution_time": "0.023s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:16:45.704076"}
2025-11-10 01:16:45 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books "HTTP/1.1 200 OK"
2025-11-10 01:16:45 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books/690f8e31ea4862f6c41c5fe5", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T00:16:45.712068"}
2025-11-10 01:16:45 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 01:16:45 - api.routes.books - [32mINFO[0m - Book retrieved: 690f8e31ea4862f6c41c5fe5, title='The Road to Little Dribbling: Adventures of an Ame...', api_key=test-api...
2025-11-10 01:16:45 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books/690f8e31ea4862f6c41c5fe5", "status_code": 200, "execution_time": "0.019s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:16:45.731080"}
2025-11-10 01:16:45 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books/690f8e31ea4862f6c41c5fe5 "HTTP/1.1 200 OK"
2025-11-10 01:16:45 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/changes", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T00:16:45.748077"}
2025-11-10 01:16:45 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 01:16:45 - api.routes.changes - [32mINFO[0m - Changes list request: filters={}, page=1, total=5551, api_key=test-api...
2025-11-10 01:16:45 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/changes", "status_code": 200, "execution_time": "0.057s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:16:45.804074"}
2025-11-10 01:16:45 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/changes "HTTP/1.1 200 OK"
2025-11-10 01:16:45 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:16:45 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:16:45 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:16:45 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:16:45 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:16:45 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:16:46 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:16:46 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:16:46 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books/690f8e31ea4862f6c41c5fe5", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T00:16:46.226076"}
2025-11-10 01:16:46 - api.auth - [33mWARNING[0m - Authentication failed: none
2025-11-10 01:16:46 - api.exception_handlers - [33mWARNING[0m - HTTP 401: {'error': 'Missing API key', 'message': 'Include X-API-Key header in your request', 'header': 'X-API-Key'} | Path: /api/v1/books/690f8e31ea4862f6c41c5fe5 | Method: GET | Client: 127.0.0.1
2025-11-10 01:16:46 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books/690f8e31ea4862f6c41c5fe5", "status_code": 401, "execution_time": "0.007s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:16:46.232074"}
2025-11-10 01:16:46 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books/690f8e31ea4862f6c41c5fe5 "HTTP/1.1 401 Unauthorized"
2025-11-10 01:16:46 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:16:46 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:16:46 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:16:46 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:16:46 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:16:46 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:16:46 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:16:46 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:16:46 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books/690f8e31ea4862f6c41c5fe5", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T00:16:46.844076"}
2025-11-10 01:16:46 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 01:16:46 - api.routes.books - [32mINFO[0m - Book retrieved: 690f8e31ea4862f6c41c5fe5, title='The Road to Little Dribbling: Adventures of an Ame...', api_key=test-api...
2025-11-10 01:16:46 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books/690f8e31ea4862f6c41c5fe5", "status_code": 200, "execution_time": "0.028s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:16:46.872079"}
2025-11-10 01:16:46 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books/690f8e31ea4862f6c41c5fe5 "HTTP/1.1 200 OK"
2025-11-10 01:16:46 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:16:47 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:16:47 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:16:47 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:16:47 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:16:47 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:16:48 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:16:48 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:16:48 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books/invalid-id-123", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T00:16:48.532317"}
2025-11-10 01:16:48 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 01:16:48 - api.routes.books - [33mWARNING[0m - Invalid ObjectId format: invalid-id-123
2025-11-10 01:16:48 - api.exception_handlers - [33mWARNING[0m - HTTP 422: Invalid book ID format. Expected 24-character hexadecimal string, got: invalid-id-123 | Path: /api/v1/books/invalid-id-123 | Method: GET | Client: 127.0.0.1
2025-11-10 01:16:48 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books/invalid-id-123", "status_code": 422, "execution_time": "0.010s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:16:48.542314"}
2025-11-10 01:16:48 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books/invalid-id-123 "HTTP/1.1 422 Unprocessable Entity"
2025-11-10 01:16:48 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:16:48 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:16:48 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:16:48 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:16:49 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:16:49 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:16:49 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:16:49 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:16:49 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books/507f1f77bcf86cd799439999", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T00:16:49.215384"}
2025-11-10 01:16:49 - api.auth - [33mWARNING[0m - Authentication failed: none
2025-11-10 01:16:49 - api.exception_handlers - [33mWARNING[0m - HTTP 401: {'error': 'Missing API key', 'message': 'Include X-API-Key header in your request', 'header': 'X-API-Key'} | Path: /api/v1/books/507f1f77bcf86cd799439999 | Method: GET | Client: 127.0.0.1
2025-11-10 01:16:49 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books/507f1f77bcf86cd799439999", "status_code": 401, "execution_time": "0.007s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:16:49.222383"}
2025-11-10 01:16:49 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books/507f1f77bcf86cd799439999 "HTTP/1.1 401 Unauthorized"
2025-11-10 01:16:49 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:16:49 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:16:49 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:16:49 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:16:50 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:16:50 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:16:50 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:16:50 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:16:51 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books/690f8e31ea4862f6c41c5fe5", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T00:16:51.336923"}
2025-11-10 01:16:51 - api.auth - [33mWARNING[0m - Authentication failed: none
2025-11-10 01:16:51 - api.exception_handlers - [33mWARNING[0m - HTTP 401: {'error': 'Missing API key', 'message': 'Include X-API-Key header in your request', 'header': 'X-API-Key'} | Path: /api/v1/books/690f8e31ea4862f6c41c5fe5 | Method: GET | Client: 127.0.0.1
2025-11-10 01:16:51 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books/690f8e31ea4862f6c41c5fe5", "status_code": 401, "execution_time": "0.128s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:16:51.462921"}
2025-11-10 01:16:51 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books/690f8e31ea4862f6c41c5fe5 "HTTP/1.1 401 Unauthorized"
2025-11-10 01:16:52 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:16:52 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:16:52 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:16:52 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:16:52 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:16:53 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:16:53 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:16:53 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:16:53 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books/690f8e31ea4862f6c41c5fe5", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T00:16:53.183960"}
2025-11-10 01:16:53 - api.auth - [33mWARNING[0m - Authentication failed: none
2025-11-10 01:16:53 - api.exception_handlers - [33mWARNING[0m - HTTP 401: {'error': 'Missing API key', 'message': 'Include X-API-Key header in your request', 'header': 'X-API-Key'} | Path: /api/v1/books/690f8e31ea4862f6c41c5fe5 | Method: GET | Client: 127.0.0.1
2025-11-10 01:16:53 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books/690f8e31ea4862f6c41c5fe5", "status_code": 401, "execution_time": "0.018s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:16:53.201959"}
2025-11-10 01:16:53 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books/690f8e31ea4862f6c41c5fe5 "HTTP/1.1 401 Unauthorized"
2025-11-10 01:16:53 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:16:53 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:16:53 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:16:53 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:16:53 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:16:53 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:16:53 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:16:53 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:16:53 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books/690f8e31ea4862f6c41c5fe5", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T00:16:53.532958"}
2025-11-10 01:16:53 - api.auth - [33mWARNING[0m - Authentication failed: none
2025-11-10 01:16:53 - api.exception_handlers - [33mWARNING[0m - HTTP 401: {'error': 'Missing API key', 'message': 'Include X-API-Key header in your request', 'header': 'X-API-Key'} | Path: /api/v1/books/690f8e31ea4862f6c41c5fe5 | Method: GET | Client: 127.0.0.1
2025-11-10 01:16:53 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books/690f8e31ea4862f6c41c5fe5", "status_code": 401, "execution_time": "0.011s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:16:53.543959"}
2025-11-10 01:16:53 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books/690f8e31ea4862f6c41c5fe5 "HTTP/1.1 401 Unauthorized"
2025-11-10 01:16:53 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:16:53 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:16:53 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:16:53 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:16:53 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:16:54 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:16:54 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:16:54 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:16:54 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books/690f8e31ea4862f6c41c5fe5", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T00:16:54.164393"}
2025-11-10 01:16:54 - api.auth - [33mWARNING[0m - Authentication failed: none
2025-11-10 01:16:54 - api.exception_handlers - [33mWARNING[0m - HTTP 401: {'error': 'Missing API key', 'message': 'Include X-API-Key header in your request', 'header': 'X-API-Key'} | Path: /api/v1/books/690f8e31ea4862f6c41c5fe5 | Method: GET | Client: 127.0.0.1
2025-11-10 01:16:54 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books/690f8e31ea4862f6c41c5fe5", "status_code": 401, "execution_time": "0.006s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:16:54.169395"}
2025-11-10 01:16:54 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books/690f8e31ea4862f6c41c5fe5 "HTTP/1.1 401 Unauthorized"
2025-11-10 01:16:54 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:16:54 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:16:54 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:16:54 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:16:54 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:16:54 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:16:55 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:16:55 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:16:55 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books/690f8e31ea4862f6c41c5fe5", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T00:16:55.093353"}
2025-11-10 01:16:55 - api.auth - [33mWARNING[0m - Authentication failed: none
2025-11-10 01:16:55 - api.exception_handlers - [33mWARNING[0m - HTTP 401: {'error': 'Missing API key', 'message': 'Include X-API-Key header in your request', 'header': 'X-API-Key'} | Path: /api/v1/books/690f8e31ea4862f6c41c5fe5 | Method: GET | Client: 127.0.0.1
2025-11-10 01:16:55 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books/690f8e31ea4862f6c41c5fe5", "status_code": 401, "execution_time": "0.066s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:16:55.159357"}
2025-11-10 01:16:55 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books/690f8e31ea4862f6c41c5fe5 "HTTP/1.1 401 Unauthorized"
2025-11-10 01:16:55 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books/690F8E31EA4862F6C41C5FE5", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T00:16:55.179368"}
2025-11-10 01:16:55 - api.auth - [33mWARNING[0m - Authentication failed: none
2025-11-10 01:16:55 - api.exception_handlers - [33mWARNING[0m - HTTP 401: {'error': 'Missing API key', 'message': 'Include X-API-Key header in your request', 'header': 'X-API-Key'} | Path: /api/v1/books/690F8E31EA4862F6C41C5FE5 | Method: GET | Client: 127.0.0.1
2025-11-10 01:16:55 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books/690F8E31EA4862F6C41C5FE5", "status_code": 401, "execution_time": "0.007s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:16:55.185355"}
2025-11-10 01:16:55 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books/690F8E31EA4862F6C41C5FE5 "HTTP/1.1 401 Unauthorized"
2025-11-10 01:16:55 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:16:55 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:16:55 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:16:55 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:16:55 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:16:55 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:16:55 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:16:55 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:16:55 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books/690f8e31ea4862f6c41c5fe5", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T00:16:55.349892"}
2025-11-10 01:16:55 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 01:16:55 - api.routes.books - [32mINFO[0m - Book retrieved: 690f8e31ea4862f6c41c5fe5, title='The Road to Little Dribbling: Adventures of an Ame...', api_key=test-api...
2025-11-10 01:16:55 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books/690f8e31ea4862f6c41c5fe5", "status_code": 200, "execution_time": "0.014s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:16:55.363891"}
2025-11-10 01:16:55 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books/690f8e31ea4862f6c41c5fe5 "HTTP/1.1 200 OK"
2025-11-10 01:16:55 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:16:55 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:16:55 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:16:55 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:16:55 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:16:55 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:16:55 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:16:55 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:16:55 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books/690f8e31ea4862f6c41c5fe5", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T00:16:55.482891"}
2025-11-10 01:16:55 - api.auth - [33mWARNING[0m - Authentication failed: none
2025-11-10 01:16:55 - api.exception_handlers - [33mWARNING[0m - HTTP 401: {'error': 'Missing API key', 'message': 'Include X-API-Key header in your request', 'header': 'X-API-Key'} | Path: /api/v1/books/690f8e31ea4862f6c41c5fe5 | Method: GET | Client: 127.0.0.1
2025-11-10 01:16:55 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books/690f8e31ea4862f6c41c5fe5", "status_code": 401, "execution_time": "0.009s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:16:55.491897"}
2025-11-10 01:16:55 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books/690f8e31ea4862f6c41c5fe5 "HTTP/1.1 401 Unauthorized"
2025-11-10 01:16:55 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:16:55 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:16:55 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:16:55 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:16:55 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:16:55 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:16:55 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:16:55 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:16:55 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T00:16:55.626890"}
2025-11-10 01:16:55 - api.auth - [33mWARNING[0m - Authentication failed: none
2025-11-10 01:16:55 - api.exception_handlers - [33mWARNING[0m - HTTP 401: {'error': 'Missing API key', 'message': 'Include X-API-Key header in your request', 'header': 'X-API-Key'} | Path: /api/v1/books | Method: GET | Client: 127.0.0.1
2025-11-10 01:16:55 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 401, "execution_time": "0.006s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:16:55.633892"}
2025-11-10 01:16:55 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books "HTTP/1.1 401 Unauthorized"
2025-11-10 01:16:55 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:16:55 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:16:55 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:16:55 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:16:55 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:16:55 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:16:55 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:16:55 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:16:55 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T00:16:55.763892"}
2025-11-10 01:16:55 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 01:16:55 - api.routes.books - [32mINFO[0m - Books list request: filters={}, sort=recent, page=1, total=1000, api_key=test-api...
2025-11-10 01:16:55 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 200, "execution_time": "0.042s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:16:55.805898"}
2025-11-10 01:16:55 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books "HTTP/1.1 200 OK"
2025-11-10 01:16:55 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:16:55 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:16:55 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:16:55 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:16:55 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:16:55 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:16:55 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:16:55 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:16:55 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T00:16:55.943894"}
2025-11-10 01:16:55 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 01:16:55 - api.routes.books - [32mINFO[0m - Books list request: filters={}, sort=recent, page=1, total=1000, api_key=test-api...
2025-11-10 01:16:55 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 200, "execution_time": "0.040s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:16:55.975892"}
2025-11-10 01:16:55 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books "HTTP/1.1 200 OK"
2025-11-10 01:16:55 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:16:55 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:16:55 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:16:55 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:16:56 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:16:56 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:16:56 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:16:56 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:16:56 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T00:16:56.080888", "query_params": {"page": "2", "page_size": "10"}}
2025-11-10 01:16:56 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 01:16:56 - api.routes.books - [32mINFO[0m - Books list request: filters={}, sort=recent, page=2, total=1000, api_key=test-api...
2025-11-10 01:16:56 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 200, "execution_time": "0.027s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:16:56.106892"}
2025-11-10 01:16:56 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books?page=2&page_size=10 "HTTP/1.1 200 OK"
2025-11-10 01:16:56 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:16:56 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:16:56 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:16:56 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:16:56 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:16:56 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:16:56 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:16:56 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:16:56 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T00:16:56.174889", "query_params": {"page": "0"}}
2025-11-10 01:16:56 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 01:16:56 - api.exception_handlers - [33mWARNING[0m - Validation error: 1 field(s) invalid | Path: /api/v1/books | Method: GET | Errors: [{'field': 'query -> page', 'message': 'Input should be greater than or equal to 1', 'type': 'greater_than_equal'}]
2025-11-10 01:16:56 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 422, "execution_time": "0.013s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:16:56.187895"}
2025-11-10 01:16:56 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books?page=0 "HTTP/1.1 422 Unprocessable Entity"
2025-11-10 01:16:56 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:16:56 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:16:56 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:16:56 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:16:56 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:16:56 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:16:56 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:16:56 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:16:56 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T00:16:56.292892", "query_params": {"page_size": "150"}}
2025-11-10 01:16:56 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 01:16:56 - api.routes.books - [32mINFO[0m - Books list request: filters={}, sort=recent, page=1, total=1000, api_key=test-api...
2025-11-10 01:16:56 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 200, "execution_time": "0.033s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:16:56.325892"}
2025-11-10 01:16:56 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books?page_size=150 "HTTP/1.1 200 OK"
2025-11-10 01:16:56 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:16:56 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:16:56 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:16:56 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:16:56 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:16:56 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:16:56 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:16:56 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:16:56 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T00:16:56.702109", "query_params": {"category": "Travel"}}
2025-11-10 01:16:56 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 01:16:56 - api.routes.books - [32mINFO[0m - Books list request: filters={'category': 'Travel'}, sort=recent, page=1, total=11, api_key=test-api...
2025-11-10 01:16:56 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 200, "execution_time": "0.096s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:16:56.798109"}
2025-11-10 01:16:56 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books?category=Travel "HTTP/1.1 200 OK"
2025-11-10 01:16:56 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:16:56 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:16:56 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:16:56 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:16:57 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:16:57 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:16:57 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:16:57 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:16:57 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T00:16:57.121110", "query_params": {"min_price": "10", "max_price": "50"}}
2025-11-10 01:16:57 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 01:16:57 - api.routes.books - [32mINFO[0m - Books list request: filters={'price_incl_tax': {'$gte': 10.0, '$lte': 50.0}}, sort=recent, page=1, total=802, api_key=test-api...
2025-11-10 01:16:57 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 200, "execution_time": "0.056s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:16:57.176643"}
2025-11-10 01:16:57 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books?min_price=10&max_price=50 "HTTP/1.1 200 OK"
2025-11-10 01:16:57 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:16:57 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:16:57 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:16:57 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:16:57 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:16:57 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:16:57 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:16:57 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:16:57 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T00:16:57.329742", "query_params": {"min_rating": "4"}}
2025-11-10 01:16:57 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 01:16:57 - api.routes.books - [32mINFO[0m - Books list request: filters={}, sort=recent, page=1, total=1000, api_key=test-api...
2025-11-10 01:16:57 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 200, "execution_time": "0.036s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:16:57.365738"}
2025-11-10 01:16:57 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books?min_rating=4 "HTTP/1.1 200 OK"
2025-11-10 01:16:57 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:16:57 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:16:57 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:16:57 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:16:57 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:16:57 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:16:57 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:16:57 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:16:57 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T00:16:57.504825", "query_params": {"availability": "In stock"}}
2025-11-10 01:16:57 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 01:16:57 - api.routes.books - [32mINFO[0m - Books list request: filters={'availability': {'$regex': 'In stock', '$options': 'i'}}, sort=recent, page=1, total=0, api_key=test-api...
2025-11-10 01:16:57 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 200, "execution_time": "0.048s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:16:57.550830"}
2025-11-10 01:16:57 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books?availability=In%20stock "HTTP/1.1 200 OK"
2025-11-10 01:16:57 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:16:57 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:16:57 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:16:57 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:16:57 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:16:57 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:16:57 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:16:57 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:16:57 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T00:16:57.650825", "query_params": {"search": "the"}}
2025-11-10 01:16:57 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 01:16:57 - api.routes.books - [32mINFO[0m - Books list request: filters={'$or': [{'title': {'$regex': 'the', '$options': 'i'}}, {'description': {'$regex': 'the', '$options': 'i'}}]}, sort=recent, page=1, total=993, api_key=test-api...
2025-11-10 01:16:57 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 200, "execution_time": "0.078s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:16:57.728824"}
2025-11-10 01:16:57 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books?search=the "HTTP/1.1 200 OK"
2025-11-10 01:16:57 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:16:57 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:16:57 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:16:57 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:16:57 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:16:57 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:16:57 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:16:57 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:16:57 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T00:16:57.807829", "query_params": {"category": "Travel", "min_rating": "3", "max_price": "100"}}
2025-11-10 01:16:57 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 01:16:57 - api.routes.books - [32mINFO[0m - Books list request: filters={'category': 'Travel', 'price_incl_tax': {'$lte': 100.0}}, sort=recent, page=1, total=11, api_key=test-api...
2025-11-10 01:16:57 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 200, "execution_time": "0.038s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:16:57.844826"}
2025-11-10 01:16:57 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books?category=Travel&min_rating=3&max_price=100 "HTTP/1.1 200 OK"
2025-11-10 01:16:57 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:16:57 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:16:57 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:16:57 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:16:57 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:16:57 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:16:57 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:16:57 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:16:57 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T00:16:57.977828", "query_params": {"sort_by": "title", "page_size": "5"}}
2025-11-10 01:16:57 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 01:16:58 - api.routes.books - [32mINFO[0m - Books list request: filters={}, sort=title, page=1, total=1000, api_key=test-api...
2025-11-10 01:16:58 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 200, "execution_time": "0.040s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:16:58.017826"}
2025-11-10 01:16:58 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books?sort_by=title&page_size=5 "HTTP/1.1 200 OK"
2025-11-10 01:16:58 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:16:58 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:16:58 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:16:58 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:16:58 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:16:58 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:16:58 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:16:58 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:16:58 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T00:16:58.100826", "query_params": {"sort_by": "price_asc", "page_size": "5"}}
2025-11-10 01:16:58 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 01:16:58 - api.routes.books - [32mINFO[0m - Books list request: filters={}, sort=price_asc, page=1, total=1000, api_key=test-api...
2025-11-10 01:16:58 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 200, "execution_time": "0.091s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:16:58.191826"}
2025-11-10 01:16:58 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books?sort_by=price_asc&page_size=5 "HTTP/1.1 200 OK"
2025-11-10 01:16:58 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:16:58 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:16:58 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:16:58 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:16:58 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:16:58 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:16:58 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:16:58 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:16:58 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T00:16:58.268827", "query_params": {"sort_by": "price_desc", "page_size": "5"}}
2025-11-10 01:16:58 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 01:16:58 - api.routes.books - [32mINFO[0m - Books list request: filters={}, sort=price_desc, page=1, total=1000, api_key=test-api...
2025-11-10 01:16:58 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 200, "execution_time": "0.040s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:16:58.307831"}
2025-11-10 01:16:58 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books?sort_by=price_desc&page_size=5 "HTTP/1.1 200 OK"
2025-11-10 01:16:58 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:16:58 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:16:58 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:16:58 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:16:58 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:16:58 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:16:58 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:16:58 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:16:58 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T00:16:58.459825", "query_params": {"sort_by": "rating_desc", "page_size": "5"}}
2025-11-10 01:16:58 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 01:16:58 - api.routes.books - [32mINFO[0m - Books list request: filters={}, sort=rating_desc, page=1, total=1000, api_key=test-api...
2025-11-10 01:16:58 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 200, "execution_time": "0.039s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:16:58.497828"}
2025-11-10 01:16:58 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books?sort_by=rating_desc&page_size=5 "HTTP/1.1 200 OK"
2025-11-10 01:16:58 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:16:58 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:16:58 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:16:58 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:16:58 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:16:58 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:16:58 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:16:58 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:16:58 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T00:16:58.745905", "query_params": {"sort_by": "recent", "page_size": "5"}}
2025-11-10 01:16:58 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 01:16:58 - api.routes.books - [32mINFO[0m - Books list request: filters={}, sort=recent, page=1, total=1000, api_key=test-api...
2025-11-10 01:16:58 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 200, "execution_time": "0.066s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:16:58.811905"}
2025-11-10 01:16:58 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books?sort_by=recent&page_size=5 "HTTP/1.1 200 OK"
2025-11-10 01:16:58 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:16:58 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:16:58 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:16:58 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:16:58 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:16:58 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:16:58 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:16:58 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:16:58 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T00:16:58.943027", "query_params": {"sort_by": "invalid_sort"}}
2025-11-10 01:16:58 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 01:16:58 - api.exception_handlers - [33mWARNING[0m - Validation error: 1 field(s) invalid | Path: /api/v1/books | Method: GET | Errors: [{'field': 'query -> sort_by', 'message': "String should match pattern '^(recent|title|price_asc|price_desc|rating_desc)$'", 'type': 'string_pattern_mismatch'}]
2025-11-10 01:16:58 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 422, "execution_time": "0.012s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:16:58.955031"}
2025-11-10 01:16:58 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books?sort_by=invalid_sort "HTTP/1.1 422 Unprocessable Entity"
2025-11-10 01:16:58 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:16:58 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:16:58 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:16:58 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:16:59 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:16:59 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:16:59 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:16:59 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:16:59 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T00:16:59.272029", "query_params": {"page_size": "1"}}
2025-11-10 01:16:59 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 01:16:59 - api.routes.books - [32mINFO[0m - Books list request: filters={}, sort=recent, page=1, total=1000, api_key=test-api...
2025-11-10 01:16:59 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 200, "execution_time": "0.039s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:16:59.308025"}
2025-11-10 01:16:59 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books?page_size=1 "HTTP/1.1 200 OK"
2025-11-10 01:16:59 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:16:59 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:16:59 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:16:59 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:16:59 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:16:59 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:16:59 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:16:59 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:16:59 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T00:16:59.590563"}
2025-11-10 01:16:59 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 01:16:59 - api.routes.books - [32mINFO[0m - Books list request: filters={}, sort=recent, page=1, total=1000, api_key=test-api...
2025-11-10 01:16:59 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 200, "execution_time": "0.064s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:16:59.654565"}
2025-11-10 01:16:59 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books "HTTP/1.1 200 OK"
2025-11-10 01:16:59 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:16:59 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:16:59 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:16:59 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:16:59 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:16:59 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:16:59 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:16:59 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:16:59 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/changes", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T00:16:59.865562"}
2025-11-10 01:16:59 - api.auth - [33mWARNING[0m - Authentication failed: none
2025-11-10 01:16:59 - api.exception_handlers - [33mWARNING[0m - HTTP 401: {'error': 'Missing API key', 'message': 'Include X-API-Key header in your request', 'header': 'X-API-Key'} | Path: /api/v1/changes | Method: GET | Client: 127.0.0.1
2025-11-10 01:16:59 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/changes", "status_code": 401, "execution_time": "0.029s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:16:59.894566"}
2025-11-10 01:16:59 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/changes "HTTP/1.1 401 Unauthorized"
2025-11-10 01:16:59 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:16:59 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:17:00 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:17:00 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:17:00 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:17:00 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:17:00 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:17:00 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:17:00 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/changes", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T00:17:00.512323"}
2025-11-10 01:17:00 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 01:17:00 - api.routes.changes - [32mINFO[0m - Changes list request: filters={}, page=1, total=5551, api_key=test-api...
2025-11-10 01:17:00 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/changes", "status_code": 200, "execution_time": "0.056s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:17:00.568325"}
2025-11-10 01:17:00 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/changes "HTTP/1.1 200 OK"
2025-11-10 01:17:00 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:17:00 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:17:00 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:17:00 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:17:01 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:17:01 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:17:01 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:17:01 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:17:01 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/changes", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T00:17:01.299228"}
2025-11-10 01:17:01 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 01:17:01 - api.routes.changes - [32mINFO[0m - Changes list request: filters={}, page=1, total=5551, api_key=test-api...
2025-11-10 01:17:01 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/changes", "status_code": 200, "execution_time": "0.177s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:17:01.475752"}
2025-11-10 01:17:01 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/changes "HTTP/1.1 200 OK"
2025-11-10 01:17:02 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:17:02 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:17:02 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:17:02 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:17:03 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:17:03 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:17:03 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:17:03 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:17:03 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/changes", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T00:17:03.736382", "query_params": {"page": "1", "page_size": "5"}}
2025-11-10 01:17:03 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 01:17:03 - api.routes.changes - [32mINFO[0m - Changes list request: filters={}, page=1, total=5551, api_key=test-api...
2025-11-10 01:17:03 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/changes", "status_code": 200, "execution_time": "0.058s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:17:03.795383"}
2025-11-10 01:17:03 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/changes?page=1&page_size=5 "HTTP/1.1 200 OK"
2025-11-10 01:17:03 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:17:03 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:17:03 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:17:03 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:17:04 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:17:04 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:17:04 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:17:04 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:17:04 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/changes", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T00:17:04.946338", "query_params": {"since": "2025-10-11T00:17:04"}}
2025-11-10 01:17:04 - api.auth - [33mWARNING[0m - Authentication failed: none
2025-11-10 01:17:04 - api.exception_handlers - [33mWARNING[0m - HTTP 401: {'error': 'Missing API key', 'message': 'Include X-API-Key header in your request', 'header': 'X-API-Key'} | Path: /api/v1/changes | Method: GET | Client: 127.0.0.1
2025-11-10 01:17:04 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/changes", "status_code": 401, "execution_time": "0.005s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:17:04.951336"}
2025-11-10 01:17:04 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/changes?since=2025-10-11T00:17:04 "HTTP/1.1 401 Unauthorized"
2025-11-10 01:17:05 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:17:05 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:17:05 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:17:05 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:17:05 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:17:05 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:17:05 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:17:05 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:17:05 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/changes", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T00:17:05.127416", "query_params": {"book_id": "690f8e31ea4862f6c41c5fe5"}}
2025-11-10 01:17:05 - api.auth - [33mWARNING[0m - Authentication failed: none
2025-11-10 01:17:05 - api.exception_handlers - [33mWARNING[0m - HTTP 401: {'error': 'Missing API key', 'message': 'Include X-API-Key header in your request', 'header': 'X-API-Key'} | Path: /api/v1/changes | Method: GET | Client: 127.0.0.1
2025-11-10 01:17:05 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/changes", "status_code": 401, "execution_time": "0.005s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:17:05.132415"}
2025-11-10 01:17:05 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/changes?book_id=690f8e31ea4862f6c41c5fe5 "HTTP/1.1 401 Unauthorized"
2025-11-10 01:17:05 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:17:05 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:17:05 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:17:05 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:17:05 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:17:05 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:17:05 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:17:05 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:17:05 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/changes", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T00:17:05.647278", "query_params": {"change_type": "update"}}
2025-11-10 01:17:05 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 01:17:05 - api.routes.changes - [32mINFO[0m - Changes list request: filters={'change_type': 'update'}, page=1, total=5551, api_key=test-api...
2025-11-10 01:17:05 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/changes", "status_code": 200, "execution_time": "0.073s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:17:05.721280"}
2025-11-10 01:17:05 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/changes?change_type=update "HTTP/1.1 200 OK"
2025-11-10 01:17:05 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:17:05 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:17:05 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:17:05 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:17:05 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:17:06 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:17:06 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:17:06 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:17:06 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/changes", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T00:17:06.109279", "query_params": {"book_id": "690f8e31ea4862f6c41c5fe5", "since": "2025-11-03T00:17:06", "change_type": "update"}}
2025-11-10 01:17:06 - api.auth - [33mWARNING[0m - Authentication failed: none
2025-11-10 01:17:06 - api.exception_handlers - [33mWARNING[0m - HTTP 401: {'error': 'Missing API key', 'message': 'Include X-API-Key header in your request', 'header': 'X-API-Key'} | Path: /api/v1/changes | Method: GET | Client: 127.0.0.1
2025-11-10 01:17:06 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/changes", "status_code": 401, "execution_time": "0.005s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:17:06.114278"}
2025-11-10 01:17:06 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/changes?book_id=690f8e31ea4862f6c41c5fe5&since=2025-11-03T00:17:06&change_type=update "HTTP/1.1 401 Unauthorized"
2025-11-10 01:17:06 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:17:06 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:17:06 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:17:06 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:17:06 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:17:06 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:17:06 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:17:06 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:17:06 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/changes", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T00:17:06.270282", "query_params": {"since": "invalid-date"}}
2025-11-10 01:17:06 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 01:17:06 - api.exception_handlers - [33mWARNING[0m - Validation error: 1 field(s) invalid | Path: /api/v1/changes | Method: GET | Errors: [{'field': 'query -> since', 'message': 'Input should be a valid datetime or date, invalid character in year', 'type': 'datetime_from_date_parsing'}]
2025-11-10 01:17:06 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/changes", "status_code": 422, "execution_time": "0.009s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:17:06.279282"}
2025-11-10 01:17:06 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/changes?since=invalid-date "HTTP/1.1 422 Unprocessable Entity"
2025-11-10 01:17:06 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:17:06 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:17:06 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:17:06 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:17:06 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:17:06 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:17:06 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:17:06 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:17:06 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/changes", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T00:17:06.374289", "query_params": {"book_id": "invalid-id"}}
2025-11-10 01:17:06 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 01:17:06 - api.routes.changes - [33mWARNING[0m - Invalid book_id format: invalid-id
2025-11-10 01:17:06 - api.exception_handlers - [33mWARNING[0m - HTTP 422: Invalid book_id format. Expected 24-character hexadecimal string, got: invalid-id | Path: /api/v1/changes | Method: GET | Client: 127.0.0.1
2025-11-10 01:17:06 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/changes", "status_code": 422, "execution_time": "0.012s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:17:06.388277"}
2025-11-10 01:17:06 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/changes?book_id=invalid-id "HTTP/1.1 422 Unprocessable Entity"
2025-11-10 01:17:06 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:17:06 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:17:06 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:17:06 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:17:06 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:17:06 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:17:06 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:17:06 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:17:06 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/changes", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T00:17:06.516281", "query_params": {"page_size": "1"}}
2025-11-10 01:17:06 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 01:17:06 - api.routes.changes - [32mINFO[0m - Changes list request: filters={}, page=1, total=5551, api_key=test-api...
2025-11-10 01:17:06 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/changes", "status_code": 200, "execution_time": "0.077s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:17:06.593277"}
2025-11-10 01:17:06 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/changes?page_size=1 "HTTP/1.1 200 OK"
2025-11-10 01:17:06 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:17:06 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:17:06 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:17:06 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:17:06 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:17:06 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:17:06 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:17:06 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:17:06 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/changes", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T00:17:06.828280", "query_params": {"page_size": "1"}}
2025-11-10 01:17:06 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 01:17:06 - api.routes.changes - [32mINFO[0m - Changes list request: filters={}, page=1, total=5551, api_key=test-api...
2025-11-10 01:17:06 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/changes", "status_code": 200, "execution_time": "0.077s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:17:06.905283"}
2025-11-10 01:17:06 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/changes?page_size=1 "HTTP/1.1 200 OK"
2025-11-10 01:17:06 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:17:06 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:17:06 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:17:06 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:17:07 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:17:07 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:17:07 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:17:07 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:17:07 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/changes", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T00:17:07.105348", "query_params": {"page_size": "50"}}
2025-11-10 01:17:07 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 01:17:07 - api.routes.changes - [32mINFO[0m - Changes list request: filters={}, page=1, total=5551, api_key=test-api...
2025-11-10 01:17:07 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/changes", "status_code": 200, "execution_time": "0.047s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:17:07.152436"}
2025-11-10 01:17:07 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/changes?page_size=50 "HTTP/1.1 200 OK"
2025-11-10 01:17:07 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:17:07 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:17:07 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:17:07 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:17:07 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:17:07 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:17:07 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:17:07 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:17:07 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/changes", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T00:17:07.361253", "query_params": {"page_size": "10"}}
2025-11-10 01:17:07 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 01:17:07 - api.routes.changes - [32mINFO[0m - Changes list request: filters={}, page=1, total=5551, api_key=test-api...
2025-11-10 01:17:07 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/changes", "status_code": 200, "execution_time": "0.049s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:17:07.410251"}
2025-11-10 01:17:07 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/changes?page_size=10 "HTTP/1.1 200 OK"
2025-11-10 01:17:07 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:17:07 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:17:07 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:17:07 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:17:07 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:17:07 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:17:07 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:17:07 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:17:07 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/changes", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T00:17:07.476776", "query_params": {"change_type": "update", "page_size": "10"}}
2025-11-10 01:17:07 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 01:17:07 - api.routes.changes - [32mINFO[0m - Changes list request: filters={'change_type': 'update'}, page=1, total=5551, api_key=test-api...
2025-11-10 01:17:07 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/changes", "status_code": 200, "execution_time": "0.063s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:17:07.540777"}
2025-11-10 01:17:07 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/changes?change_type=update&page_size=10 "HTTP/1.1 200 OK"
2025-11-10 01:17:07 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:17:07 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:17:07 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:17:07 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:17:07 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:17:07 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:17:07 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:17:07 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:17:07 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/changes", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T00:17:07.597777", "query_params": {"page_size": "10"}}
2025-11-10 01:17:07 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 01:17:07 - api.routes.changes - [32mINFO[0m - Changes list request: filters={}, page=1, total=5551, api_key=test-api...
2025-11-10 01:17:07 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/changes", "status_code": 200, "execution_time": "0.030s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:17:07.627776"}
2025-11-10 01:17:07 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/changes?page_size=10 "HTTP/1.1 200 OK"
2025-11-10 01:17:07 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:17:07 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:17:07 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:17:07 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:17:07 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:17:07 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:17:07 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:17:07 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:17:07 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/changes", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T00:17:07.681779"}
2025-11-10 01:17:07 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 01:17:07 - api.routes.changes - [32mINFO[0m - Changes list request: filters={}, page=1, total=5551, api_key=test-api...
2025-11-10 01:17:07 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/changes", "status_code": 200, "execution_time": "0.029s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:17:07.710777"}
2025-11-10 01:17:07 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/changes "HTTP/1.1 200 OK"
2025-11-10 01:17:07 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:17:07 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:17:07 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:17:07 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:17:07 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:17:07 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:17:07 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:17:07 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:17:07 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/changes", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T00:17:07.766777", "query_params": {"since": "2026-11-10T00:17:07"}}
2025-11-10 01:17:07 - api.auth - [33mWARNING[0m - Authentication failed: none
2025-11-10 01:17:07 - api.exception_handlers - [33mWARNING[0m - HTTP 401: {'error': 'Missing API key', 'message': 'Include X-API-Key header in your request', 'header': 'X-API-Key'} | Path: /api/v1/changes | Method: GET | Client: 127.0.0.1
2025-11-10 01:17:07 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/changes", "status_code": 401, "execution_time": "0.007s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:17:07.773781"}
2025-11-10 01:17:07 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/changes?since=2026-11-10T00:17:07 "HTTP/1.1 401 Unauthorized"
2025-11-10 01:17:07 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:17:07 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:17:07 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:17:07 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:17:07 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:17:07 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:17:07 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:17:07 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:17:07 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/changes", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T00:17:07.835780"}
2025-11-10 01:17:07 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 01:17:07 - api.routes.changes - [32mINFO[0m - Changes list request: filters={}, page=1, total=5551, api_key=test-api...
2025-11-10 01:17:07 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/changes", "status_code": 200, "execution_time": "0.034s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:17:07.869779"}
2025-11-10 01:17:07 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/changes "HTTP/1.1 200 OK"
2025-11-10 01:17:07 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:17:07 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:17:07 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:17:07 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:17:07 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:17:07 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:17:08 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:17:08 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:17:08 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/invalid-endpoint", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T00:17:08.026779"}
2025-11-10 01:17:08 - api.exception_handlers - [33mWARNING[0m - HTTP 404: Not Found | Path: /api/v1/invalid-endpoint | Method: GET | Client: 127.0.0.1
2025-11-10 01:17:08 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/invalid-endpoint", "status_code": 404, "execution_time": "0.004s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:17:08.029778"}
2025-11-10 01:17:08 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/invalid-endpoint "HTTP/1.1 404 Not Found"
2025-11-10 01:17:08 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:17:08 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:17:08 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:17:08 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:17:08 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:17:08 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:17:08 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:17:08 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:17:08 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books/507f1f77bcf86cd799439999", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T00:17:08.115780"}
2025-11-10 01:17:08 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 01:17:08 - api.routes.books - [32mINFO[0m - Book not found: 507f1f77bcf86cd799439999, api_key=test-api...
2025-11-10 01:17:08 - api.exception_handlers - [33mWARNING[0m - HTTP 404: Book with ID '507f1f77bcf86cd799439999' not found | Path: /api/v1/books/507f1f77bcf86cd799439999 | Method: GET | Client: 127.0.0.1
2025-11-10 01:17:08 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books/507f1f77bcf86cd799439999", "status_code": 404, "execution_time": "0.015s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:17:08.130779"}
2025-11-10 01:17:08 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books/507f1f77bcf86cd799439999 "HTTP/1.1 404 Not Found"
2025-11-10 01:17:08 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:17:08 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:17:08 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:17:08 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:17:08 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:17:08 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:17:08 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:17:08 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:17:08 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books/invalid-id-123", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T00:17:08.243776"}
2025-11-10 01:17:08 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 01:17:08 - api.routes.books - [33mWARNING[0m - Invalid ObjectId format: invalid-id-123
2025-11-10 01:17:08 - api.exception_handlers - [33mWARNING[0m - HTTP 422: Invalid book ID format. Expected 24-character hexadecimal string, got: invalid-id-123 | Path: /api/v1/books/invalid-id-123 | Method: GET | Client: 127.0.0.1
2025-11-10 01:17:08 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books/invalid-id-123", "status_code": 422, "execution_time": "0.005s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:17:08.248778"}
2025-11-10 01:17:08 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books/invalid-id-123 "HTTP/1.1 422 Unprocessable Entity"
2025-11-10 01:17:08 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:17:08 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:17:08 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:17:08 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:17:08 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:17:08 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:17:08 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:17:08 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:17:08 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T00:17:08.340779", "query_params": {"page": "0"}}
2025-11-10 01:17:08 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 01:17:08 - api.exception_handlers - [33mWARNING[0m - Validation error: 1 field(s) invalid | Path: /api/v1/books | Method: GET | Errors: [{'field': 'query -> page', 'message': 'Input should be greater than or equal to 1', 'type': 'greater_than_equal'}]
2025-11-10 01:17:08 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 422, "execution_time": "0.008s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:17:08.348779"}
2025-11-10 01:17:08 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books?page=0 "HTTP/1.1 422 Unprocessable Entity"
2025-11-10 01:17:08 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:17:08 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:17:08 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:17:08 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:17:08 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:17:08 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:17:08 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:17:08 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:17:08 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T00:17:08.415777", "query_params": {"page_size": "200"}}
2025-11-10 01:17:08 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 01:17:08 - api.routes.books - [32mINFO[0m - Books list request: filters={}, sort=recent, page=1, total=1000, api_key=test-api...
2025-11-10 01:17:08 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 200, "execution_time": "0.018s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:17:08.433773"}
2025-11-10 01:17:08 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books?page_size=200 "HTTP/1.1 200 OK"
2025-11-10 01:17:08 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:17:08 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:17:08 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:17:08 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:17:08 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:17:08 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:17:08 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:17:08 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:17:08 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T00:17:08.482775", "query_params": {"min_rating": "10"}}
2025-11-10 01:17:08 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 01:17:08 - api.routes.books - [32mINFO[0m - Books list request: filters={}, sort=recent, page=1, total=1000, api_key=test-api...
2025-11-10 01:17:08 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 200, "execution_time": "0.025s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:17:08.507780"}
2025-11-10 01:17:08 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books?min_rating=10 "HTTP/1.1 200 OK"
2025-11-10 01:17:08 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:17:08 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:17:08 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:17:08 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:17:08 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:17:08 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:17:08 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:17:08 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:17:08 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/changes", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T00:17:08.571780", "query_params": {"since": "not-a-date"}}
2025-11-10 01:17:08 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 01:17:08 - api.exception_handlers - [33mWARNING[0m - Validation error: 1 field(s) invalid | Path: /api/v1/changes | Method: GET | Errors: [{'field': 'query -> since', 'message': 'Input should be a valid datetime or date, invalid character in year', 'type': 'datetime_from_date_parsing'}]
2025-11-10 01:17:08 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/changes", "status_code": 422, "execution_time": "0.006s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:17:08.577778"}
2025-11-10 01:17:08 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/changes?since=not-a-date "HTTP/1.1 422 Unprocessable Entity"
2025-11-10 01:17:08 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:17:08 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:17:08 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:17:08 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:17:08 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:17:08 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:17:08 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:17:08 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:17:08 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books/invalid-id", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T00:17:08.646776"}
2025-11-10 01:17:08 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 01:17:08 - api.routes.books - [33mWARNING[0m - Invalid ObjectId format: invalid-id
2025-11-10 01:17:08 - api.exception_handlers - [33mWARNING[0m - HTTP 422: Invalid book ID format. Expected 24-character hexadecimal string, got: invalid-id | Path: /api/v1/books/invalid-id | Method: GET | Client: 127.0.0.1
2025-11-10 01:17:08 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books/invalid-id", "status_code": 422, "execution_time": "0.007s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:17:08.653779"}
2025-11-10 01:17:08 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books/invalid-id "HTTP/1.1 422 Unprocessable Entity"
2025-11-10 01:17:08 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:17:08 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:17:08 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:17:08 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:17:08 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:17:08 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:17:08 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:17:08 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:17:08 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books/507f1f77bcf86cd799439999", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T00:17:08.713776"}
2025-11-10 01:17:08 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 01:17:08 - api.routes.books - [32mINFO[0m - Book not found: 507f1f77bcf86cd799439999, api_key=test-api...
2025-11-10 01:17:08 - api.exception_handlers - [33mWARNING[0m - HTTP 404: Book with ID '507f1f77bcf86cd799439999' not found | Path: /api/v1/books/507f1f77bcf86cd799439999 | Method: GET | Client: 127.0.0.1
2025-11-10 01:17:08 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books/507f1f77bcf86cd799439999", "status_code": 404, "execution_time": "0.011s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:17:08.724778"}
2025-11-10 01:17:08 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books/507f1f77bcf86cd799439999 "HTTP/1.1 404 Not Found"
2025-11-10 01:17:08 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:17:08 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:17:08 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:17:08 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:17:08 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:17:08 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:17:08 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:17:08 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:17:08 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "POST", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T00:17:08.784780"}
2025-11-10 01:17:08 - api.exception_handlers - [33mWARNING[0m - HTTP 405: Method Not Allowed | Path: /api/v1/books | Method: POST | Client: 127.0.0.1
2025-11-10 01:17:08 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "POST", "path": "/api/v1/books", "status_code": 405, "execution_time": "0.004s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:17:08.788776"}
2025-11-10 01:17:08 - httpx - [32mINFO[0m - HTTP Request: POST http://test/api/v1/books "HTTP/1.1 405 Method Not Allowed"
2025-11-10 01:17:08 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:17:08 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:17:08 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:17:08 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:17:08 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:17:08 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:17:08 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:17:08 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:17:08 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "POST", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T00:17:08.849775"}
2025-11-10 01:17:08 - api.exception_handlers - [33mWARNING[0m - HTTP 405: Method Not Allowed | Path: /api/v1/books | Method: POST | Client: 127.0.0.1
2025-11-10 01:17:08 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "POST", "path": "/api/v1/books", "status_code": 405, "execution_time": "0.005s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:17:08.854778"}
2025-11-10 01:17:08 - httpx - [32mINFO[0m - HTTP Request: POST http://test/api/v1/books "HTTP/1.1 405 Method Not Allowed"
2025-11-10 01:17:08 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:17:08 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:17:08 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:17:08 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:17:08 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:17:08 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:17:08 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:17:08 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:17:08 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/health", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T00:17:08.908779"}
2025-11-10 01:17:08 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/health", "status_code": 200, "execution_time": "0.012s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:17:08.920777"}
2025-11-10 01:17:08 - httpx - [32mINFO[0m - HTTP Request: GET http://test/health "HTTP/1.1 200 OK"
2025-11-10 01:17:08 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:17:08 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:17:08 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:17:08 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:17:08 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:17:08 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:17:08 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:17:08 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:17:08 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/health", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T00:17:08.978778"}
2025-11-10 01:17:08 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/health", "status_code": 200, "execution_time": "0.012s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:17:08.990777"}
2025-11-10 01:17:08 - httpx - [32mINFO[0m - HTTP Request: GET http://test/health "HTTP/1.1 200 OK"
2025-11-10 01:17:09 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:17:09 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:17:09 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:17:09 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:17:09 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:17:09 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:17:09 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:17:09 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:17:09 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/health", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T00:17:09.060780"}
2025-11-10 01:17:09 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/health", "status_code": 200, "execution_time": "0.013s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:17:09.073781"}
2025-11-10 01:17:09 - httpx - [32mINFO[0m - HTTP Request: GET http://test/health "HTTP/1.1 200 OK"
2025-11-10 01:17:09 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:17:09 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:17:09 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:17:09 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:17:09 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:17:09 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:17:09 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:17:09 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:17:09 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/health", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T00:17:09.138777"}
2025-11-10 01:17:09 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/health", "status_code": 200, "execution_time": "0.014s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:17:09.151778"}
2025-11-10 01:17:09 - httpx - [32mINFO[0m - HTTP Request: GET http://test/health "HTTP/1.1 200 OK"
2025-11-10 01:17:09 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:17:09 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:17:09 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:17:09 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:17:09 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:17:09 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:17:09 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:17:09 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:17:09 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/books", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T00:17:09.208777"}
2025-11-10 01:17:09 - api.exception_handlers - [33mWARNING[0m - HTTP 404: Not Found | Path: /api/books | Method: GET | Client: 127.0.0.1
2025-11-10 01:17:09 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/books", "status_code": 404, "execution_time": "0.003s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:17:09.210778"}
2025-11-10 01:17:09 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/books "HTTP/1.1 404 Not Found"
2025-11-10 01:17:09 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:17:09 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:17:09 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:17:09 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:17:09 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:17:09 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:17:09 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:17:09 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:17:09 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T00:17:09.259776"}
2025-11-10 01:17:09 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 01:17:09 - api.routes.books - [32mINFO[0m - Books list request: filters={}, sort=recent, page=1, total=1000, api_key=test-api...
2025-11-10 01:17:09 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 200, "execution_time": "0.020s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:17:09.279777"}
2025-11-10 01:17:09 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books "HTTP/1.1 200 OK"
2025-11-10 01:17:09 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:17:09 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:17:09 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:17:09 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:17:09 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:17:09 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:17:09 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:17:09 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:17:09 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T00:17:09.359773"}
2025-11-10 01:17:09 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 01:17:09 - api.routes.books - [32mINFO[0m - Books list request: filters={}, sort=recent, page=1, total=1000, api_key=test-api...
2025-11-10 01:17:09 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 200, "execution_time": "0.021s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:17:09.380779"}
2025-11-10 01:17:09 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books "HTTP/1.1 200 OK"
2025-11-10 01:17:09 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:17:09 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:17:09 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:17:09 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:17:09 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:17:09 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:17:09 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:17:09 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:17:09 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T00:17:09.439777"}
2025-11-10 01:17:09 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 01:17:09 - api.routes.books - [32mINFO[0m - Books list request: filters={}, sort=recent, page=1, total=1000, api_key=test-api...
2025-11-10 01:17:09 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 200, "execution_time": "0.022s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:17:09.461773"}
2025-11-10 01:17:09 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books "HTTP/1.1 200 OK"
2025-11-10 01:17:09 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:17:09 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:17:09 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:17:09 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:17:09 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:17:09 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:17:09 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:17:09 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:17:09 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T00:17:09.516780"}
2025-11-10 01:17:09 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 01:17:09 - api.routes.books - [32mINFO[0m - Books list request: filters={}, sort=recent, page=1, total=1000, api_key=test-api...
2025-11-10 01:17:09 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 200, "execution_time": "0.023s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:17:09.539781"}
2025-11-10 01:17:09 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books "HTTP/1.1 200 OK"
2025-11-10 01:17:09 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:17:09 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:17:09 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:17:09 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:17:09 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:17:09 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:17:09 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:17:09 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:17:09 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T00:17:09.761777", "query_params": {"page": "999999"}}
2025-11-10 01:17:09 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 01:17:09 - api.routes.books - [32mINFO[0m - Books list request: filters={}, sort=recent, page=999999, total=1000, api_key=test-api...
2025-11-10 01:17:09 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 200, "execution_time": "0.044s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:17:09.806776"}
2025-11-10 01:17:09 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books?page=999999 "HTTP/1.1 200 OK"
2025-11-10 01:17:09 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:17:09 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:17:10 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:17:10 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:17:10 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:17:10 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:17:10 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:17:10 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:17:10 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T00:17:10.654779", "query_params": {"page_size": "100"}}
2025-11-10 01:17:10 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 01:17:10 - api.routes.books - [32mINFO[0m - Books list request: filters={}, sort=recent, page=1, total=1000, api_key=test-api...
2025-11-10 01:17:10 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 200, "execution_time": "0.048s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:17:10.702781"}
2025-11-10 01:17:10 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books?page_size=100 "HTTP/1.1 200 OK"
2025-11-10 01:17:10 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:17:10 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:17:10 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:17:10 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:17:10 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:17:10 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:17:10 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:17:10 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:17:10 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T00:17:10.853007", "query_params": {"page_size": "1"}}
2025-11-10 01:17:10 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 01:17:10 - api.routes.books - [32mINFO[0m - Books list request: filters={}, sort=recent, page=1, total=1000, api_key=test-api...
2025-11-10 01:17:10 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 200, "execution_time": "0.033s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:17:10.885133"}
2025-11-10 01:17:10 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books?page_size=1 "HTTP/1.1 200 OK"
2025-11-10 01:17:10 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:17:11 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:17:11 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:17:11 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:17:11 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:17:11 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:17:11 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:17:11 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:17:11 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T00:17:11.202667", "query_params": {"search": "test & book"}}
2025-11-10 01:17:11 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 01:17:11 - api.routes.books - [32mINFO[0m - Books list request: filters={'$or': [{'title': {'$regex': 'test & book', '$options': 'i'}}, {'description': {'$regex': 'test & book', '$options': 'i'}}]}, sort=recent, page=1, total=0, api_key=test-api...
2025-11-10 01:17:11 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 200, "execution_time": "0.113s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:17:11.315668"}
2025-11-10 01:17:11 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books?search=test%20%26%20book "HTTP/1.1 200 OK"
2025-11-10 01:17:11 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:17:11 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:17:11 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:17:11 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:17:11 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:17:11 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:17:11 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:17:11 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:17:11 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T00:17:11.394668", "query_params": {"search": "caf\u00e9"}}
2025-11-10 01:17:11 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 01:17:11 - api.routes.books - [32mINFO[0m - Books list request: filters={'$or': [{'title': {'$regex': 'cafÃ©', '$options': 'i'}}, {'description': {'$regex': 'cafÃ©', '$options': 'i'}}]}, sort=recent, page=1, total=3, api_key=test-api...
2025-11-10 01:17:11 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 200, "execution_time": "0.094s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:17:11.487667"}
2025-11-10 01:17:11 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books?search=caf%C3%A9 "HTTP/1.1 200 OK"
2025-11-10 01:17:11 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:17:11 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:17:11 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:17:11 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:17:11 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:17:11 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:17:11 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:17:11 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:17:11 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T00:17:11.558665", "query_params": {"search": ""}}
2025-11-10 01:17:11 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 01:17:11 - api.routes.books - [32mINFO[0m - Books list request: filters={}, sort=recent, page=1, total=1000, api_key=test-api...
2025-11-10 01:17:11 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 200, "execution_time": "0.027s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:17:11.584666"}
2025-11-10 01:17:11 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books?search= "HTTP/1.1 200 OK"
2025-11-10 01:17:11 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:17:11 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:17:11 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:17:11 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:17:11 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:17:11 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:17:11 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:17:11 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:17:11 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T00:17:11.660667", "query_params": {"min_price": "-10"}}
2025-11-10 01:17:11 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 01:17:11 - api.exception_handlers - [33mWARNING[0m - Validation error: 1 field(s) invalid | Path: /api/v1/books | Method: GET | Errors: [{'field': 'query -> min_price', 'message': 'Input should be greater than or equal to 0', 'type': 'greater_than_equal'}]
2025-11-10 01:17:11 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 422, "execution_time": "0.009s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:17:11.669668"}
2025-11-10 01:17:11 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books?min_price=-10 "HTTP/1.1 422 Unprocessable Entity"
2025-11-10 01:17:11 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:17:11 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 01:17:11 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 01:17:11 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 01:17:11 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 01:17:11 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 01:17:11 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 01:17:11 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 01:17:11 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T00:17:11.740671"}
2025-11-10 01:17:11 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T00:17:11.743670"}
2025-11-10 01:17:11 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T00:17:11.745670"}
2025-11-10 01:17:11 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T00:17:11.746666"}
2025-11-10 01:17:11 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T00:17:11.748667"}
2025-11-10 01:17:11 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 01:17:11 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 01:17:11 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 01:17:11 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 01:17:11 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 01:17:11 - api.routes.books - [32mINFO[0m - Books list request: filters={}, sort=recent, page=1, total=1000, api_key=test-api...
2025-11-10 01:17:11 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 200, "execution_time": "0.061s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:17:11.801667"}
2025-11-10 01:17:11 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books "HTTP/1.1 200 OK"
2025-11-10 01:17:11 - api.routes.books - [32mINFO[0m - Books list request: filters={}, sort=recent, page=1, total=1000, api_key=test-api...
2025-11-10 01:17:11 - api.routes.books - [32mINFO[0m - Books list request: filters={}, sort=recent, page=1, total=1000, api_key=test-api...
2025-11-10 01:17:11 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 200, "execution_time": "0.079s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:17:11.821667"}
2025-11-10 01:17:11 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 200, "execution_time": "0.075s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:17:11.823667"}
2025-11-10 01:17:11 - api.routes.books - [32mINFO[0m - Books list request: filters={}, sort=recent, page=1, total=1000, api_key=test-api...
2025-11-10 01:17:11 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 200, "execution_time": "0.084s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:17:11.828669"}
2025-11-10 01:17:11 - api.routes.books - [32mINFO[0m - Books list request: filters={}, sort=recent, page=1, total=1000, api_key=test-api...
2025-11-10 01:17:11 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 200, "execution_time": "0.086s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T00:17:11.832661"}
2025-11-10 01:17:11 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books "HTTP/1.1 200 OK"
2025-11-10 01:17:11 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books "HTTP/1.1 200 OK"
2025-11-10 01:17:11 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books "HTTP/1.1 200 OK"
2025-11-10 01:17:11 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books "HTTP/1.1 200 OK"
2025-11-10 01:17:11 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 01:17:11 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 02:18:23 - root - [32mINFO[0m - Logging configured: level=INFO, dir=logs
2025-11-10 02:18:23 - src.api.exception_handlers - [32mINFO[0m - âœ… Exception handlers registered
2025-11-10 02:40:36 - root - [32mINFO[0m - Logging configured: level=INFO, dir=logs
2025-11-10 02:40:36 - src.api.exception_handlers - [32mINFO[0m - âœ… Exception handlers registered
2025-11-10 03:10:31 - root - [32mINFO[0m - Logging configured: level=INFO, dir=logs
2025-11-10 03:10:31 - src.api.exception_handlers - [32mINFO[0m - âœ… Exception handlers registered
2025-11-10 03:19:09 - root - [32mINFO[0m - Logging configured: level=INFO, dir=logs
2025-11-10 03:19:09 - src.api.exception_handlers - [32mINFO[0m - âœ… Exception handlers registered
2025-11-10 03:25:10 - root - [32mINFO[0m - Logging configured: level=INFO, dir=logs
2025-11-10 03:25:10 - src.api.exception_handlers - [32mINFO[0m - âœ… Exception handlers registered
2025-11-10 03:25:11 - api.rate_limiter - [32mINFO[0m - Rate limiting enabled: 100 requests per hour
2025-11-10 03:25:11 - src.api.main - [32mINFO[0m - Starting Books to Scrape API v1.0.0...
2025-11-10 03:25:11 - src.api.main - [32mINFO[0m - Server: 0.0.0.0:8000
2025-11-10 03:25:11 - src.api.main - [32mINFO[0m - CORS Origins: ['http://localhost:3000', 'http://localhost:8080', 'http://127.0.0.1:3000']
2025-11-10 03:25:11 - src.api.main - [32mINFO[0m - Rate Limit: 100 req/hour
2025-11-10 03:25:11 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 03:25:11 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 03:25:11 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 03:25:11 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 03:25:11 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 03:25:11 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 03:25:11 - src.api.main - [32mINFO[0m - âœ… Database connection established
2025-11-10 03:25:11 - api.rate_limiter - [32mINFO[0m - Rate limit cleanup task started
2025-11-10 03:25:11 - src.api.main - [32mINFO[0m - âœ… Rate limit cleanup task started
2025-11-10 03:25:11 - src.api.main - [32mINFO[0m - API startup complete
2025-11-10 03:25:52 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/docs", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T02:25:52.956974"}
2025-11-10 03:25:52 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/docs", "status_code": 200, "execution_time": "0.021s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T02:25:52.978975"}
2025-11-10 03:25:55 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/openapi.json", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T02:25:55.409973"}
2025-11-10 03:25:55 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/openapi.json", "status_code": 200, "execution_time": "0.159s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T02:25:55.567974"}
2025-11-10 03:26:41 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T02:26:41.976051", "query_params": {"category": "Travel", "min_price": "10", "max_price": "50", "rating": "4", "availability": "available", "search": "travel", "sort_by": "recent", "page": "1", "limit": "20"}}
2025-11-10 03:26:41 - api.auth - [33mWARNING[0m - Authentication failed: none
2025-11-10 03:26:41 - src.api.exception_handlers - [33mWARNING[0m - HTTP 401: {'error': 'Missing API key', 'message': 'Include X-API-Key header in your request', 'header': 'X-API-Key'} | Path: /api/v1/books | Method: GET | Client: 127.0.0.1
2025-11-10 03:26:41 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 401, "execution_time": "0.005s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T02:26:41.981049"}
2025-11-10 03:27:23 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/health", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T02:27:23.610175"}
2025-11-10 03:27:23 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/health", "status_code": 200, "execution_time": "0.010s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T02:27:23.620175"}
2025-11-10 03:27:53 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/health", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T02:27:53.533885"}
2025-11-10 03:27:53 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/health", "status_code": 200, "execution_time": "0.010s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T02:27:53.543884"}
2025-11-10 03:28:32 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T02:28:32.017085"}
2025-11-10 03:28:32 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/", "status_code": 200, "execution_time": "0.002s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T02:28:32.019080"}
2025-11-10 03:29:06 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/openapi.json", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T02:29:06.304966"}
2025-11-10 03:29:06 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/openapi.json", "status_code": 200, "execution_time": "0.052s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T02:29:06.356964"}
2025-11-10 03:29:06 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/favicon.ico", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T02:29:06.584973"}
2025-11-10 03:29:06 - src.api.exception_handlers - [33mWARNING[0m - HTTP 404: Not Found | Path: /favicon.ico | Method: GET | Client: 127.0.0.1
2025-11-10 03:29:06 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/favicon.ico", "status_code": 404, "execution_time": "0.128s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T02:29:06.712966"}
2025-11-10 03:31:08 - src.api.main - [32mINFO[0m - Shutting down Books to Scrape API...
2025-11-10 03:31:08 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 03:31:08 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 03:31:08 - src.api.main - [32mINFO[0m - API shutdown complete
2025-11-10 03:31:08 - api.rate_limiter - [32mINFO[0m - Rate limit cleanup task cancelled
2025-11-10 03:38:50 - root - [32mINFO[0m - Logging configured: level=INFO, dir=logs
2025-11-10 03:38:50 - src.api.exception_handlers - [32mINFO[0m - âœ… Exception handlers registered
2025-11-10 03:38:54 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 03:38:54 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 03:38:55 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 03:38:55 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 03:38:55 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 03:38:55 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 03:38:55 - api.rate_limiter - [32mINFO[0m - Rate limiting enabled: 100 requests per hour
2025-11-10 03:38:55 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T02:38:55.564325"}
2025-11-10 03:38:55 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 03:38:55 - src.api.routes.books - [32mINFO[0m - Books list request: filters={}, sort=recent, page=1, total=1000, api_key=test-api...
2025-11-10 03:38:55 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 200, "execution_time": "0.029s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T02:38:55.593327"}
2025-11-10 03:38:55 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books "HTTP/1.1 200 OK"
2025-11-10 03:38:55 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 03:38:55 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 03:38:55 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 03:38:55 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 03:38:55 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 03:38:55 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 03:38:55 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 03:38:55 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 03:38:55 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "invalid-...", "timestamp": "2025-11-10T02:38:55.669324"}
2025-11-10 03:38:55 - api.auth - [33mWARNING[0m - Authentication failed: invalid-...
2025-11-10 03:38:55 - src.api.exception_handlers - [33mWARNING[0m - HTTP 401: {'error': 'Invalid API key', 'message': 'The provided API key is not valid', 'hint': 'Check your API key or contact the administrator'} | Path: /api/v1/books | Method: GET | Client: 127.0.0.1
2025-11-10 03:38:55 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 401, "execution_time": "0.003s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T02:38:55.672326"}
2025-11-10 03:38:55 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books "HTTP/1.1 401 Unauthorized"
2025-11-10 03:38:55 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 03:38:55 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 03:38:55 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 03:38:55 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 03:38:55 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 03:38:55 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 03:38:55 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 03:38:55 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 03:38:55 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T02:38:55.752326"}
2025-11-10 03:38:55 - api.auth - [33mWARNING[0m - Authentication failed: none
2025-11-10 03:38:55 - src.api.exception_handlers - [33mWARNING[0m - HTTP 401: {'error': 'Missing API key', 'message': 'Include X-API-Key header in your request', 'header': 'X-API-Key'} | Path: /api/v1/books | Method: GET | Client: 127.0.0.1
2025-11-10 03:38:55 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 401, "execution_time": "0.004s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T02:38:55.756325"}
2025-11-10 03:38:55 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books "HTTP/1.1 401 Unauthorized"
2025-11-10 03:38:55 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 03:38:55 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 03:38:55 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 03:38:55 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 03:38:55 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 03:38:56 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 03:38:56 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 03:38:56 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 03:38:56 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T02:38:56.373327"}
2025-11-10 03:38:56 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 03:38:56 - src.api.routes.books - [32mINFO[0m - Books list request: filters={}, sort=recent, page=1, total=1000, api_key=test-api...
2025-11-10 03:38:56 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 200, "execution_time": "0.062s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T02:38:56.435328"}
2025-11-10 03:38:56 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books "HTTP/1.1 200 OK"
2025-11-10 03:38:56 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "TEST-API...", "timestamp": "2025-11-10T02:38:56.439326"}
2025-11-10 03:38:56 - api.auth - [33mWARNING[0m - Authentication failed: TEST-API...
2025-11-10 03:38:56 - src.api.exception_handlers - [33mWARNING[0m - HTTP 401: {'error': 'Invalid API key', 'message': 'The provided API key is not valid', 'hint': 'Check your API key or contact the administrator'} | Path: /api/v1/books | Method: GET | Client: 127.0.0.1
2025-11-10 03:38:56 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 401, "execution_time": "0.004s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T02:38:56.443328"}
2025-11-10 03:38:56 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books "HTTP/1.1 401 Unauthorized"
2025-11-10 03:38:56 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 03:38:56 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 03:38:56 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 03:38:56 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 03:38:56 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 03:38:56 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 03:38:56 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 03:38:56 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 03:38:56 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T02:38:56.854326"}
2025-11-10 03:38:56 - api.auth - [33mWARNING[0m - Authentication failed: none
2025-11-10 03:38:56 - src.api.exception_handlers - [33mWARNING[0m - HTTP 401: {'error': 'Missing API key', 'message': 'Include X-API-Key header in your request', 'header': 'X-API-Key'} | Path: /api/v1/books | Method: GET | Client: 127.0.0.1
2025-11-10 03:38:56 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 401, "execution_time": "0.004s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T02:38:56.858328"}
2025-11-10 03:38:56 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books "HTTP/1.1 401 Unauthorized"
2025-11-10 03:38:56 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 03:38:56 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 03:38:56 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 03:38:56 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 03:38:56 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 03:38:56 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 03:38:56 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 03:38:56 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 03:38:57 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-key...", "timestamp": "2025-11-10T02:38:57.027326"}
2025-11-10 03:38:57 - api.auth - [33mWARNING[0m - Authentication failed: test-key...
2025-11-10 03:38:57 - src.api.exception_handlers - [33mWARNING[0m - HTTP 401: {'error': 'Invalid API key', 'message': 'The provided API key is not valid', 'hint': 'Check your API key or contact the administrator'} | Path: /api/v1/books | Method: GET | Client: 127.0.0.1
2025-11-10 03:38:57 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 401, "execution_time": "0.003s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T02:38:57.030327"}
2025-11-10 03:38:57 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books "HTTP/1.1 401 Unauthorized"
2025-11-10 03:38:57 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 03:38:57 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 03:38:57 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 03:38:57 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 03:38:57 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 03:38:57 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 03:38:57 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 03:38:57 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 03:38:57 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T02:38:57.325327"}
2025-11-10 03:38:57 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 03:38:57 - src.api.routes.books - [32mINFO[0m - Books list request: filters={}, sort=recent, page=1, total=1000, api_key=test-api...
2025-11-10 03:38:57 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 200, "execution_time": "0.058s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T02:38:57.383327"}
2025-11-10 03:38:57 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books "HTTP/1.1 200 OK"
2025-11-10 03:38:57 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 03:38:57 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 03:38:57 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 03:38:57 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 03:38:57 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 03:38:57 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 03:38:57 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 03:38:57 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 03:38:57 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T02:38:57.617329"}
2025-11-10 03:38:57 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 03:38:57 - src.api.routes.books - [32mINFO[0m - Books list request: filters={}, sort=recent, page=1, total=1000, api_key=test-api...
2025-11-10 03:38:57 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 200, "execution_time": "0.021s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T02:38:57.638327"}
2025-11-10 03:38:57 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books "HTTP/1.1 200 OK"
2025-11-10 03:38:57 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 03:38:57 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 03:38:57 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 03:38:57 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 03:38:57 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 03:38:57 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 03:38:57 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 03:38:57 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 03:38:57 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T02:38:57.702325"}
2025-11-10 03:38:57 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 03:38:57 - src.api.routes.books - [32mINFO[0m - Books list request: filters={}, sort=recent, page=1, total=1000, api_key=test-api...
2025-11-10 03:38:57 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 200, "execution_time": "0.016s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T02:38:57.718325"}
2025-11-10 03:38:57 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books "HTTP/1.1 200 OK"
2025-11-10 03:38:57 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T02:38:57.721326"}
2025-11-10 03:38:57 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 03:38:57 - src.api.routes.books - [32mINFO[0m - Books list request: filters={}, sort=recent, page=1, total=1000, api_key=test-api...
2025-11-10 03:38:57 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 200, "execution_time": "0.015s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T02:38:57.736325"}
2025-11-10 03:38:57 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books "HTTP/1.1 200 OK"
2025-11-10 03:38:57 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 03:38:57 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 03:38:57 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 03:38:57 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 03:38:57 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 03:38:57 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 03:38:57 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 03:38:57 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 03:38:57 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T02:38:57.772322"}
2025-11-10 03:38:57 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 03:38:57 - src.api.routes.books - [32mINFO[0m - Books list request: filters={}, sort=recent, page=1, total=1000, api_key=test-api...
2025-11-10 03:38:57 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 200, "execution_time": "0.013s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T02:38:57.785324"}
2025-11-10 03:38:57 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books "HTTP/1.1 200 OK"
2025-11-10 03:38:57 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "invalid-...", "timestamp": "2025-11-10T02:38:57.787324"}
2025-11-10 03:38:57 - api.auth - [33mWARNING[0m - Authentication failed: invalid-...
2025-11-10 03:38:57 - src.api.exception_handlers - [33mWARNING[0m - HTTP 401: {'error': 'Invalid API key', 'message': 'The provided API key is not valid', 'hint': 'Check your API key or contact the administrator'} | Path: /api/v1/books | Method: GET | Client: 127.0.0.1
2025-11-10 03:38:57 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 401, "execution_time": "0.001s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T02:38:57.788324"}
2025-11-10 03:38:57 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books "HTTP/1.1 401 Unauthorized"
2025-11-10 03:38:57 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 03:38:57 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 03:38:57 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 03:38:57 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 03:38:57 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 03:38:57 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 03:38:57 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 03:38:57 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 03:38:57 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/health", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T02:38:57.821324"}
2025-11-10 03:38:57 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/health", "status_code": 200, "execution_time": "0.008s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T02:38:57.829324"}
2025-11-10 03:38:57 - httpx - [32mINFO[0m - HTTP Request: GET http://test/health "HTTP/1.1 200 OK"
2025-11-10 03:38:57 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 03:38:57 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 03:38:57 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 03:38:57 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 03:38:57 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 03:38:57 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 03:38:57 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 03:38:57 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 03:38:57 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T02:38:57.876327"}
2025-11-10 03:38:57 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 03:38:57 - src.api.routes.books - [32mINFO[0m - Books list request: filters={}, sort=recent, page=1, total=1000, api_key=test-api...
2025-11-10 03:38:57 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 200, "execution_time": "0.013s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T02:38:57.889327"}
2025-11-10 03:38:57 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books "HTTP/1.1 200 OK"
2025-11-10 03:38:57 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books/690f8e31ea4862f6c41c5fe5", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T02:38:57.894322"}
2025-11-10 03:38:57 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 03:38:57 - src.api.routes.books - [32mINFO[0m - Book retrieved: 690f8e31ea4862f6c41c5fe5, title='The Road to Little Dribbling: Adventures of an Ame...', api_key=test-api...
2025-11-10 03:38:57 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books/690f8e31ea4862f6c41c5fe5", "status_code": 200, "execution_time": "0.004s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T02:38:57.898326"}
2025-11-10 03:38:57 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books/690f8e31ea4862f6c41c5fe5 "HTTP/1.1 200 OK"
2025-11-10 03:38:57 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/changes", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T02:38:57.900322"}
2025-11-10 03:38:57 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 03:38:57 - src.api.routes.changes - [32mINFO[0m - Changes list request: filters={}, page=1, total=6551, api_key=test-api...
2025-11-10 03:38:57 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/changes", "status_code": 200, "execution_time": "0.023s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T02:38:57.923323"}
2025-11-10 03:38:57 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/changes "HTTP/1.1 200 OK"
2025-11-10 03:38:57 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 03:38:57 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 03:38:57 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 03:38:57 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 03:38:57 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 03:38:57 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 03:38:57 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 03:38:57 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 03:38:57 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books/690f8e31ea4862f6c41c5fe5", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T02:38:57.964324"}
2025-11-10 03:38:57 - api.auth - [33mWARNING[0m - Authentication failed: none
2025-11-10 03:38:57 - src.api.exception_handlers - [33mWARNING[0m - HTTP 401: {'error': 'Missing API key', 'message': 'Include X-API-Key header in your request', 'header': 'X-API-Key'} | Path: /api/v1/books/690f8e31ea4862f6c41c5fe5 | Method: GET | Client: 127.0.0.1
2025-11-10 03:38:57 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books/690f8e31ea4862f6c41c5fe5", "status_code": 401, "execution_time": "0.004s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T02:38:57.968323"}
2025-11-10 03:38:57 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books/690f8e31ea4862f6c41c5fe5 "HTTP/1.1 401 Unauthorized"
2025-11-10 03:38:57 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 03:38:57 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 03:38:57 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 03:38:57 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 03:38:58 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 03:38:58 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 03:38:58 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 03:38:58 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 03:38:58 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books/690f8e31ea4862f6c41c5fe5", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T02:38:58.017327"}
2025-11-10 03:38:58 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 03:38:58 - src.api.routes.books - [32mINFO[0m - Book retrieved: 690f8e31ea4862f6c41c5fe5, title='The Road to Little Dribbling: Adventures of an Ame...', api_key=test-api...
2025-11-10 03:38:58 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books/690f8e31ea4862f6c41c5fe5", "status_code": 200, "execution_time": "0.005s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T02:38:58.022323"}
2025-11-10 03:38:58 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books/690f8e31ea4862f6c41c5fe5 "HTTP/1.1 200 OK"
2025-11-10 03:38:58 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 03:38:58 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 03:38:58 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 03:38:58 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 03:38:58 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 03:38:58 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 03:38:58 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 03:38:58 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 03:38:58 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books/invalid-id-123", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T02:38:58.068322"}
2025-11-10 03:38:58 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 03:38:58 - src.api.routes.books - [33mWARNING[0m - Invalid ObjectId format: invalid-id-123
2025-11-10 03:38:58 - src.api.exception_handlers - [33mWARNING[0m - HTTP 422: Invalid book ID format. Expected 24-character hexadecimal string, got: invalid-id-123 | Path: /api/v1/books/invalid-id-123 | Method: GET | Client: 127.0.0.1
2025-11-10 03:38:58 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books/invalid-id-123", "status_code": 422, "execution_time": "0.004s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T02:38:58.072323"}
2025-11-10 03:38:58 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books/invalid-id-123 "HTTP/1.1 422 Unprocessable Entity"
2025-11-10 03:38:58 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 03:38:58 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 03:38:58 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 03:38:58 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 03:38:58 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 03:38:58 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 03:38:58 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 03:38:58 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 03:38:58 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books/507f1f77bcf86cd799439999", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T02:38:58.119322"}
2025-11-10 03:38:58 - api.auth - [33mWARNING[0m - Authentication failed: none
2025-11-10 03:38:58 - src.api.exception_handlers - [33mWARNING[0m - HTTP 401: {'error': 'Missing API key', 'message': 'Include X-API-Key header in your request', 'header': 'X-API-Key'} | Path: /api/v1/books/507f1f77bcf86cd799439999 | Method: GET | Client: 127.0.0.1
2025-11-10 03:38:58 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books/507f1f77bcf86cd799439999", "status_code": 401, "execution_time": "0.003s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T02:38:58.122323"}
2025-11-10 03:38:58 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books/507f1f77bcf86cd799439999 "HTTP/1.1 401 Unauthorized"
2025-11-10 03:38:58 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 03:38:58 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 03:38:58 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 03:38:58 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 03:38:58 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 03:38:58 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 03:38:58 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 03:38:58 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 03:38:58 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books/690f8e31ea4862f6c41c5fe5", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T02:38:58.160323"}
2025-11-10 03:38:58 - api.auth - [33mWARNING[0m - Authentication failed: none
2025-11-10 03:38:58 - src.api.exception_handlers - [33mWARNING[0m - HTTP 401: {'error': 'Missing API key', 'message': 'Include X-API-Key header in your request', 'header': 'X-API-Key'} | Path: /api/v1/books/690f8e31ea4862f6c41c5fe5 | Method: GET | Client: 127.0.0.1
2025-11-10 03:38:58 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books/690f8e31ea4862f6c41c5fe5", "status_code": 401, "execution_time": "0.002s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T02:38:58.162323"}
2025-11-10 03:38:58 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books/690f8e31ea4862f6c41c5fe5 "HTTP/1.1 401 Unauthorized"
2025-11-10 03:38:58 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 03:38:58 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 03:38:58 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 03:38:58 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 03:38:58 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 03:38:58 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 03:38:58 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 03:38:58 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 03:38:58 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books/690f8e31ea4862f6c41c5fe5", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T02:38:58.200322"}
2025-11-10 03:38:58 - api.auth - [33mWARNING[0m - Authentication failed: none
2025-11-10 03:38:58 - src.api.exception_handlers - [33mWARNING[0m - HTTP 401: {'error': 'Missing API key', 'message': 'Include X-API-Key header in your request', 'header': 'X-API-Key'} | Path: /api/v1/books/690f8e31ea4862f6c41c5fe5 | Method: GET | Client: 127.0.0.1
2025-11-10 03:38:58 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books/690f8e31ea4862f6c41c5fe5", "status_code": 401, "execution_time": "0.002s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T02:38:58.202325"}
2025-11-10 03:38:58 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books/690f8e31ea4862f6c41c5fe5 "HTTP/1.1 401 Unauthorized"
2025-11-10 03:38:58 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 03:38:58 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 03:38:58 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 03:38:58 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 03:38:58 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 03:38:58 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 03:38:58 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 03:38:58 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 03:38:58 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books/690f8e31ea4862f6c41c5fe5", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T02:38:58.238324"}
2025-11-10 03:38:58 - api.auth - [33mWARNING[0m - Authentication failed: none
2025-11-10 03:38:58 - src.api.exception_handlers - [33mWARNING[0m - HTTP 401: {'error': 'Missing API key', 'message': 'Include X-API-Key header in your request', 'header': 'X-API-Key'} | Path: /api/v1/books/690f8e31ea4862f6c41c5fe5 | Method: GET | Client: 127.0.0.1
2025-11-10 03:38:58 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books/690f8e31ea4862f6c41c5fe5", "status_code": 401, "execution_time": "0.002s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T02:38:58.240325"}
2025-11-10 03:38:58 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books/690f8e31ea4862f6c41c5fe5 "HTTP/1.1 401 Unauthorized"
2025-11-10 03:38:58 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 03:38:58 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 03:38:58 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 03:38:58 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 03:38:58 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 03:38:58 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 03:38:58 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 03:38:58 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 03:38:58 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books/690f8e31ea4862f6c41c5fe5", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T02:38:58.277322"}
2025-11-10 03:38:58 - api.auth - [33mWARNING[0m - Authentication failed: none
2025-11-10 03:38:58 - src.api.exception_handlers - [33mWARNING[0m - HTTP 401: {'error': 'Missing API key', 'message': 'Include X-API-Key header in your request', 'header': 'X-API-Key'} | Path: /api/v1/books/690f8e31ea4862f6c41c5fe5 | Method: GET | Client: 127.0.0.1
2025-11-10 03:38:58 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books/690f8e31ea4862f6c41c5fe5", "status_code": 401, "execution_time": "0.002s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T02:38:58.279323"}
2025-11-10 03:38:58 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books/690f8e31ea4862f6c41c5fe5 "HTTP/1.1 401 Unauthorized"
2025-11-10 03:38:58 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 03:38:58 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 03:38:58 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 03:38:58 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 03:38:58 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 03:38:58 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 03:38:58 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 03:38:58 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 03:38:58 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books/690f8e31ea4862f6c41c5fe5", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T02:38:58.315322"}
2025-11-10 03:38:58 - api.auth - [33mWARNING[0m - Authentication failed: none
2025-11-10 03:38:58 - src.api.exception_handlers - [33mWARNING[0m - HTTP 401: {'error': 'Missing API key', 'message': 'Include X-API-Key header in your request', 'header': 'X-API-Key'} | Path: /api/v1/books/690f8e31ea4862f6c41c5fe5 | Method: GET | Client: 127.0.0.1
2025-11-10 03:38:58 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books/690f8e31ea4862f6c41c5fe5", "status_code": 401, "execution_time": "0.002s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T02:38:58.317323"}
2025-11-10 03:38:58 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books/690f8e31ea4862f6c41c5fe5 "HTTP/1.1 401 Unauthorized"
2025-11-10 03:38:58 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books/690F8E31EA4862F6C41C5FE5", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T02:38:58.319325"}
2025-11-10 03:38:58 - api.auth - [33mWARNING[0m - Authentication failed: none
2025-11-10 03:38:58 - src.api.exception_handlers - [33mWARNING[0m - HTTP 401: {'error': 'Missing API key', 'message': 'Include X-API-Key header in your request', 'header': 'X-API-Key'} | Path: /api/v1/books/690F8E31EA4862F6C41C5FE5 | Method: GET | Client: 127.0.0.1
2025-11-10 03:38:58 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books/690F8E31EA4862F6C41C5FE5", "status_code": 401, "execution_time": "0.002s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T02:38:58.321323"}
2025-11-10 03:38:58 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books/690F8E31EA4862F6C41C5FE5 "HTTP/1.1 401 Unauthorized"
2025-11-10 03:38:58 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 03:38:58 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 03:38:58 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 03:38:58 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 03:38:58 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 03:38:58 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 03:38:58 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 03:38:58 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 03:38:58 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books/690f8e31ea4862f6c41c5fe5", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T02:38:58.357325"}
2025-11-10 03:38:58 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 03:38:58 - src.api.routes.books - [32mINFO[0m - Book retrieved: 690f8e31ea4862f6c41c5fe5, title='The Road to Little Dribbling: Adventures of an Ame...', api_key=test-api...
2025-11-10 03:38:58 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books/690f8e31ea4862f6c41c5fe5", "status_code": 200, "execution_time": "0.005s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T02:38:58.362323"}
2025-11-10 03:38:58 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books/690f8e31ea4862f6c41c5fe5 "HTTP/1.1 200 OK"
2025-11-10 03:38:58 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 03:38:58 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 03:38:58 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 03:38:58 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 03:38:58 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 03:38:58 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 03:38:58 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 03:38:58 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 03:38:58 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books/690f8e31ea4862f6c41c5fe5", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T02:38:58.398325"}
2025-11-10 03:38:58 - api.auth - [33mWARNING[0m - Authentication failed: none
2025-11-10 03:38:58 - src.api.exception_handlers - [33mWARNING[0m - HTTP 401: {'error': 'Missing API key', 'message': 'Include X-API-Key header in your request', 'header': 'X-API-Key'} | Path: /api/v1/books/690f8e31ea4862f6c41c5fe5 | Method: GET | Client: 127.0.0.1
2025-11-10 03:38:58 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books/690f8e31ea4862f6c41c5fe5", "status_code": 401, "execution_time": "0.003s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T02:38:58.401328"}
2025-11-10 03:38:58 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books/690f8e31ea4862f6c41c5fe5 "HTTP/1.1 401 Unauthorized"
2025-11-10 03:38:58 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 03:38:58 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 03:38:58 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 03:38:58 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 03:38:58 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 03:38:58 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 03:38:58 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 03:38:58 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 03:38:58 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T02:38:58.447323"}
2025-11-10 03:38:58 - api.auth - [33mWARNING[0m - Authentication failed: none
2025-11-10 03:38:58 - src.api.exception_handlers - [33mWARNING[0m - HTTP 401: {'error': 'Missing API key', 'message': 'Include X-API-Key header in your request', 'header': 'X-API-Key'} | Path: /api/v1/books | Method: GET | Client: 127.0.0.1
2025-11-10 03:38:58 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 401, "execution_time": "0.003s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T02:38:58.450324"}
2025-11-10 03:38:58 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books "HTTP/1.1 401 Unauthorized"
2025-11-10 03:38:58 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 03:38:58 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 03:38:58 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 03:38:58 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 03:38:58 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 03:38:58 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 03:38:58 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 03:38:58 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 03:38:58 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T02:38:58.484327"}
2025-11-10 03:38:58 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 03:38:58 - src.api.routes.books - [32mINFO[0m - Books list request: filters={}, sort=recent, page=1, total=1000, api_key=test-api...
2025-11-10 03:38:58 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 200, "execution_time": "0.013s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T02:38:58.497324"}
2025-11-10 03:38:58 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books "HTTP/1.1 200 OK"
2025-11-10 03:38:58 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 03:38:58 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 03:38:58 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 03:38:58 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 03:38:58 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 03:38:58 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 03:38:58 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 03:38:58 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 03:38:58 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T02:38:58.534342"}
2025-11-10 03:38:58 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 03:38:58 - src.api.routes.books - [32mINFO[0m - Books list request: filters={}, sort=recent, page=1, total=1000, api_key=test-api...
2025-11-10 03:38:58 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 200, "execution_time": "0.012s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T02:38:58.546325"}
2025-11-10 03:38:58 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books "HTTP/1.1 200 OK"
2025-11-10 03:38:58 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 03:38:58 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 03:38:58 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 03:38:58 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 03:38:58 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 03:38:58 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 03:38:58 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 03:38:58 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 03:38:58 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T02:38:58.580325", "query_params": {"page": "2", "page_size": "10"}}
2025-11-10 03:38:58 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 03:38:58 - src.api.routes.books - [32mINFO[0m - Books list request: filters={}, sort=recent, page=2, total=1000, api_key=test-api...
2025-11-10 03:38:58 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 200, "execution_time": "0.015s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T02:38:58.595327"}
2025-11-10 03:38:58 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books?page=2&page_size=10 "HTTP/1.1 200 OK"
2025-11-10 03:38:58 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 03:38:58 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 03:38:58 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 03:38:58 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 03:38:58 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 03:38:58 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 03:38:58 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 03:38:58 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 03:38:58 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T02:38:58.632327", "query_params": {"page": "0"}}
2025-11-10 03:38:58 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 03:38:58 - src.api.exception_handlers - [33mWARNING[0m - Validation error: 1 field(s) invalid | Path: /api/v1/books | Method: GET | Errors: [{'field': 'query -> page', 'message': 'Input should be greater than or equal to 1', 'type': 'greater_than_equal'}]
2025-11-10 03:38:58 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 422, "execution_time": "0.005s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T02:38:58.637343"}
2025-11-10 03:38:58 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books?page=0 "HTTP/1.1 422 Unprocessable Entity"
2025-11-10 03:38:58 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 03:38:58 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 03:38:58 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 03:38:58 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 03:38:58 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 03:38:58 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 03:38:58 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 03:38:58 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 03:38:58 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T02:38:58.738322", "query_params": {"page_size": "150"}}
2025-11-10 03:38:58 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 03:38:58 - src.api.routes.books - [32mINFO[0m - Books list request: filters={}, sort=recent, page=1, total=1000, api_key=test-api...
2025-11-10 03:38:58 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 200, "execution_time": "0.016s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T02:38:58.753325"}
2025-11-10 03:38:58 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books?page_size=150 "HTTP/1.1 200 OK"
2025-11-10 03:38:58 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 03:38:58 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 03:38:58 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 03:38:58 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 03:38:58 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 03:38:58 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 03:38:58 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 03:38:58 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 03:38:58 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T02:38:58.799326", "query_params": {"category": "Travel"}}
2025-11-10 03:38:58 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 03:38:58 - src.api.routes.books - [32mINFO[0m - Books list request: filters={'category': 'Travel'}, sort=recent, page=1, total=11, api_key=test-api...
2025-11-10 03:38:58 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 200, "execution_time": "0.013s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T02:38:58.812324"}
2025-11-10 03:38:58 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books?category=Travel "HTTP/1.1 200 OK"
2025-11-10 03:38:58 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 03:38:58 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 03:38:58 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 03:38:58 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 03:38:58 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 03:38:58 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 03:38:58 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 03:38:58 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 03:38:58 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T02:38:58.847322", "query_params": {"min_price": "10", "max_price": "50"}}
2025-11-10 03:38:58 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 03:38:58 - src.api.routes.books - [32mINFO[0m - Books list request: filters={'price_incl_tax': {'$gte': 10.0, '$lte': 50.0}}, sort=recent, page=1, total=802, api_key=test-api...
2025-11-10 03:38:58 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 200, "execution_time": "0.014s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T02:38:58.861323"}
2025-11-10 03:38:58 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books?min_price=10&max_price=50 "HTTP/1.1 200 OK"
2025-11-10 03:38:58 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 03:38:58 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 03:38:58 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 03:38:58 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 03:38:58 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 03:38:58 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 03:38:58 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 03:38:58 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 03:38:58 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T02:38:58.894326", "query_params": {"min_rating": "4"}}
2025-11-10 03:38:58 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 03:38:58 - src.api.routes.books - [32mINFO[0m - Books list request: filters={}, sort=recent, page=1, total=1000, api_key=test-api...
2025-11-10 03:38:58 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 200, "execution_time": "0.014s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T02:38:58.908325"}
2025-11-10 03:38:58 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books?min_rating=4 "HTTP/1.1 200 OK"
2025-11-10 03:38:58 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 03:38:58 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 03:38:58 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 03:38:58 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 03:38:58 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 03:38:58 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 03:38:58 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 03:38:58 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 03:38:58 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T02:38:58.952324", "query_params": {"availability": "In stock"}}
2025-11-10 03:38:58 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 03:38:58 - src.api.routes.books - [32mINFO[0m - Books list request: filters={'availability': {'$regex': 'In stock', '$options': 'i'}}, sort=recent, page=1, total=0, api_key=test-api...
2025-11-10 03:38:58 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 200, "execution_time": "0.026s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T02:38:58.977329"}
2025-11-10 03:38:58 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books?availability=In%20stock "HTTP/1.1 200 OK"
2025-11-10 03:38:58 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 03:38:58 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 03:38:58 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 03:38:58 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 03:38:59 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 03:38:59 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 03:38:59 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 03:38:59 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 03:38:59 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T02:38:59.020326", "query_params": {"search": "the"}}
2025-11-10 03:38:59 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 03:38:59 - src.api.routes.books - [32mINFO[0m - Books list request: filters={'$or': [{'title': {'$regex': 'the', '$options': 'i'}}, {'description': {'$regex': 'the', '$options': 'i'}}]}, sort=recent, page=1, total=993, api_key=test-api...
2025-11-10 03:38:59 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 200, "execution_time": "0.023s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T02:38:59.043325"}
2025-11-10 03:38:59 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books?search=the "HTTP/1.1 200 OK"
2025-11-10 03:38:59 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 03:38:59 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 03:38:59 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 03:38:59 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 03:38:59 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 03:38:59 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 03:38:59 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 03:38:59 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 03:38:59 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T02:38:59.077322", "query_params": {"category": "Travel", "min_rating": "3", "max_price": "100"}}
2025-11-10 03:38:59 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 03:38:59 - src.api.routes.books - [32mINFO[0m - Books list request: filters={'category': 'Travel', 'price_incl_tax': {'$lte': 100.0}}, sort=recent, page=1, total=11, api_key=test-api...
2025-11-10 03:38:59 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 200, "execution_time": "0.011s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T02:38:59.088323"}
2025-11-10 03:38:59 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books?category=Travel&min_rating=3&max_price=100 "HTTP/1.1 200 OK"
2025-11-10 03:38:59 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 03:38:59 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 03:38:59 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 03:38:59 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 03:38:59 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 03:38:59 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 03:38:59 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 03:38:59 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 03:38:59 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T02:38:59.127324", "query_params": {"sort_by": "title", "page_size": "5"}}
2025-11-10 03:38:59 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 03:38:59 - src.api.routes.books - [32mINFO[0m - Books list request: filters={}, sort=title, page=1, total=1000, api_key=test-api...
2025-11-10 03:38:59 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 200, "execution_time": "0.012s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T02:38:59.138328"}
2025-11-10 03:38:59 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books?sort_by=title&page_size=5 "HTTP/1.1 200 OK"
2025-11-10 03:38:59 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 03:38:59 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 03:38:59 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 03:38:59 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 03:38:59 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 03:38:59 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 03:38:59 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 03:38:59 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 03:38:59 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T02:38:59.188326", "query_params": {"sort_by": "price_asc", "page_size": "5"}}
2025-11-10 03:38:59 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 03:38:59 - src.api.routes.books - [32mINFO[0m - Books list request: filters={}, sort=price_asc, page=1, total=1000, api_key=test-api...
2025-11-10 03:38:59 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 200, "execution_time": "0.012s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T02:38:59.200322"}
2025-11-10 03:38:59 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books?sort_by=price_asc&page_size=5 "HTTP/1.1 200 OK"
2025-11-10 03:38:59 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 03:38:59 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 03:38:59 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 03:38:59 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 03:38:59 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 03:38:59 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 03:38:59 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 03:38:59 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 03:38:59 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T02:38:59.232646", "query_params": {"sort_by": "price_desc", "page_size": "5"}}
2025-11-10 03:38:59 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 03:38:59 - src.api.routes.books - [32mINFO[0m - Books list request: filters={}, sort=price_desc, page=1, total=1000, api_key=test-api...
2025-11-10 03:38:59 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 200, "execution_time": "0.011s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T02:38:59.243625"}
2025-11-10 03:38:59 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books?sort_by=price_desc&page_size=5 "HTTP/1.1 200 OK"
2025-11-10 03:38:59 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 03:38:59 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 03:38:59 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 03:38:59 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 03:38:59 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 03:38:59 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 03:38:59 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 03:38:59 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 03:38:59 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T02:38:59.276628", "query_params": {"sort_by": "rating_desc", "page_size": "5"}}
2025-11-10 03:38:59 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 03:38:59 - src.api.routes.books - [32mINFO[0m - Books list request: filters={}, sort=rating_desc, page=1, total=1000, api_key=test-api...
2025-11-10 03:38:59 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 200, "execution_time": "0.012s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T02:38:59.288624"}
2025-11-10 03:38:59 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books?sort_by=rating_desc&page_size=5 "HTTP/1.1 200 OK"
2025-11-10 03:38:59 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 03:38:59 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 03:38:59 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 03:38:59 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 03:38:59 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 03:38:59 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 03:38:59 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 03:38:59 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 03:38:59 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T02:38:59.322633", "query_params": {"sort_by": "recent", "page_size": "5"}}
2025-11-10 03:38:59 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 03:38:59 - src.api.routes.books - [32mINFO[0m - Books list request: filters={}, sort=recent, page=1, total=1000, api_key=test-api...
2025-11-10 03:38:59 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 200, "execution_time": "0.015s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T02:38:59.337631"}
2025-11-10 03:38:59 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books?sort_by=recent&page_size=5 "HTTP/1.1 200 OK"
2025-11-10 03:38:59 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 03:38:59 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 03:38:59 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 03:38:59 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 03:38:59 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 03:38:59 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 03:38:59 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 03:38:59 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 03:38:59 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T02:38:59.393647", "query_params": {"sort_by": "invalid_sort"}}
2025-11-10 03:38:59 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 03:38:59 - src.api.exception_handlers - [33mWARNING[0m - Validation error: 1 field(s) invalid | Path: /api/v1/books | Method: GET | Errors: [{'field': 'query -> sort_by', 'message': "String should match pattern '^(recent|title|price_asc|price_desc|rating_desc)$'", 'type': 'string_pattern_mismatch'}]
2025-11-10 03:38:59 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 422, "execution_time": "0.003s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T02:38:59.396647"}
2025-11-10 03:38:59 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books?sort_by=invalid_sort "HTTP/1.1 422 Unprocessable Entity"
2025-11-10 03:38:59 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 03:38:59 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 03:38:59 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 03:38:59 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 03:38:59 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 03:38:59 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 03:38:59 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 03:38:59 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 03:38:59 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T02:38:59.429629", "query_params": {"page_size": "1"}}
2025-11-10 03:38:59 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 03:38:59 - src.api.routes.books - [32mINFO[0m - Books list request: filters={}, sort=recent, page=1, total=1000, api_key=test-api...
2025-11-10 03:38:59 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 200, "execution_time": "0.013s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T02:38:59.442694"}
2025-11-10 03:38:59 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books?page_size=1 "HTTP/1.1 200 OK"
2025-11-10 03:38:59 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 03:38:59 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 03:38:59 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 03:38:59 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 03:38:59 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 03:38:59 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 03:38:59 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 03:38:59 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 03:38:59 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T02:38:59.478630"}
2025-11-10 03:38:59 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 03:38:59 - src.api.routes.books - [32mINFO[0m - Books list request: filters={}, sort=recent, page=1, total=1000, api_key=test-api...
2025-11-10 03:38:59 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 200, "execution_time": "0.015s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T02:38:59.493648"}
2025-11-10 03:38:59 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books "HTTP/1.1 200 OK"
2025-11-10 03:38:59 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 03:38:59 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 03:38:59 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 03:38:59 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 03:38:59 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 03:38:59 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 03:38:59 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 03:38:59 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 03:38:59 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/changes", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T02:38:59.526630"}
2025-11-10 03:38:59 - api.auth - [33mWARNING[0m - Authentication failed: none
2025-11-10 03:38:59 - src.api.exception_handlers - [33mWARNING[0m - HTTP 401: {'error': 'Missing API key', 'message': 'Include X-API-Key header in your request', 'header': 'X-API-Key'} | Path: /api/v1/changes | Method: GET | Client: 127.0.0.1
2025-11-10 03:38:59 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/changes", "status_code": 401, "execution_time": "0.002s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T02:38:59.528630"}
2025-11-10 03:38:59 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/changes "HTTP/1.1 401 Unauthorized"
2025-11-10 03:38:59 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 03:38:59 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 03:38:59 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 03:38:59 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 03:38:59 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 03:38:59 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 03:38:59 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 03:38:59 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 03:38:59 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/changes", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T02:38:59.560626"}
2025-11-10 03:38:59 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 03:38:59 - src.api.routes.changes - [32mINFO[0m - Changes list request: filters={}, page=1, total=6551, api_key=test-api...
2025-11-10 03:38:59 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/changes", "status_code": 200, "execution_time": "0.018s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T02:38:59.578631"}
2025-11-10 03:38:59 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/changes "HTTP/1.1 200 OK"
2025-11-10 03:38:59 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 03:38:59 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 03:38:59 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 03:38:59 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 03:38:59 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 03:38:59 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 03:38:59 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 03:38:59 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 03:38:59 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/changes", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T02:38:59.614630"}
2025-11-10 03:38:59 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 03:38:59 - src.api.routes.changes - [32mINFO[0m - Changes list request: filters={}, page=1, total=6551, api_key=test-api...
2025-11-10 03:38:59 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/changes", "status_code": 200, "execution_time": "0.022s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T02:38:59.636642"}
2025-11-10 03:38:59 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/changes "HTTP/1.1 200 OK"
2025-11-10 03:38:59 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 03:38:59 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 03:38:59 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 03:38:59 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 03:38:59 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 03:38:59 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 03:38:59 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 03:38:59 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 03:38:59 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/changes", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T02:38:59.670626", "query_params": {"page": "1", "page_size": "5"}}
2025-11-10 03:38:59 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 03:38:59 - src.api.routes.changes - [32mINFO[0m - Changes list request: filters={}, page=1, total=6551, api_key=test-api...
2025-11-10 03:38:59 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/changes", "status_code": 200, "execution_time": "0.022s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T02:38:59.692628"}
2025-11-10 03:38:59 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/changes?page=1&page_size=5 "HTTP/1.1 200 OK"
2025-11-10 03:38:59 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 03:38:59 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 03:38:59 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 03:38:59 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 03:38:59 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 03:38:59 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 03:38:59 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 03:38:59 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 03:38:59 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/changes", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T02:38:59.752624", "query_params": {"since": "2025-10-11T02:38:59"}}
2025-11-10 03:38:59 - api.auth - [33mWARNING[0m - Authentication failed: none
2025-11-10 03:38:59 - src.api.exception_handlers - [33mWARNING[0m - HTTP 401: {'error': 'Missing API key', 'message': 'Include X-API-Key header in your request', 'header': 'X-API-Key'} | Path: /api/v1/changes | Method: GET | Client: 127.0.0.1
2025-11-10 03:38:59 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/changes", "status_code": 401, "execution_time": "0.002s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T02:38:59.754624"}
2025-11-10 03:38:59 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/changes?since=2025-10-11T02:38:59 "HTTP/1.1 401 Unauthorized"
2025-11-10 03:38:59 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 03:38:59 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 03:38:59 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 03:38:59 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 03:38:59 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 03:38:59 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 03:38:59 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 03:38:59 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 03:38:59 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/changes", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T02:38:59.789646", "query_params": {"book_id": "690f8e31ea4862f6c41c5fe5"}}
2025-11-10 03:38:59 - api.auth - [33mWARNING[0m - Authentication failed: none
2025-11-10 03:38:59 - src.api.exception_handlers - [33mWARNING[0m - HTTP 401: {'error': 'Missing API key', 'message': 'Include X-API-Key header in your request', 'header': 'X-API-Key'} | Path: /api/v1/changes | Method: GET | Client: 127.0.0.1
2025-11-10 03:38:59 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/changes", "status_code": 401, "execution_time": "0.003s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T02:38:59.792630"}
2025-11-10 03:38:59 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/changes?book_id=690f8e31ea4862f6c41c5fe5 "HTTP/1.1 401 Unauthorized"
2025-11-10 03:38:59 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 03:38:59 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 03:38:59 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 03:38:59 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 03:38:59 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 03:38:59 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 03:38:59 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 03:38:59 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 03:38:59 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/changes", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T02:38:59.827646", "query_params": {"change_type": "update"}}
2025-11-10 03:38:59 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 03:38:59 - src.api.routes.changes - [32mINFO[0m - Changes list request: filters={'change_type': 'update'}, page=1, total=6551, api_key=test-api...
2025-11-10 03:38:59 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/changes", "status_code": 200, "execution_time": "0.020s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T02:38:59.847633"}
2025-11-10 03:38:59 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/changes?change_type=update "HTTP/1.1 200 OK"
2025-11-10 03:38:59 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 03:38:59 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 03:38:59 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 03:38:59 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 03:38:59 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 03:38:59 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 03:38:59 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 03:38:59 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 03:38:59 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/changes", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T02:38:59.882631", "query_params": {"book_id": "690f8e31ea4862f6c41c5fe5", "since": "2025-11-03T02:38:59", "change_type": "update"}}
2025-11-10 03:38:59 - api.auth - [33mWARNING[0m - Authentication failed: none
2025-11-10 03:38:59 - src.api.exception_handlers - [33mWARNING[0m - HTTP 401: {'error': 'Missing API key', 'message': 'Include X-API-Key header in your request', 'header': 'X-API-Key'} | Path: /api/v1/changes | Method: GET | Client: 127.0.0.1
2025-11-10 03:38:59 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/changes", "status_code": 401, "execution_time": "0.003s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T02:38:59.885631"}
2025-11-10 03:38:59 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/changes?book_id=690f8e31ea4862f6c41c5fe5&since=2025-11-03T02:38:59&change_type=update "HTTP/1.1 401 Unauthorized"
2025-11-10 03:38:59 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 03:38:59 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 03:38:59 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 03:38:59 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 03:38:59 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 03:38:59 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 03:38:59 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 03:38:59 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 03:38:59 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/changes", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T02:38:59.930626", "query_params": {"since": "invalid-date"}}
2025-11-10 03:38:59 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 03:38:59 - src.api.exception_handlers - [33mWARNING[0m - Validation error: 1 field(s) invalid | Path: /api/v1/changes | Method: GET | Errors: [{'field': 'query -> since', 'message': 'Input should be a valid datetime or date, invalid character in year', 'type': 'datetime_from_date_parsing'}]
2025-11-10 03:38:59 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/changes", "status_code": 422, "execution_time": "0.003s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T02:38:59.933626"}
2025-11-10 03:38:59 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/changes?since=invalid-date "HTTP/1.1 422 Unprocessable Entity"
2025-11-10 03:38:59 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 03:38:59 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 03:38:59 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 03:38:59 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 03:38:59 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 03:38:59 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 03:38:59 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 03:38:59 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 03:38:59 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/changes", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T02:38:59.976629", "query_params": {"book_id": "invalid-id"}}
2025-11-10 03:38:59 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 03:38:59 - src.api.routes.changes - [33mWARNING[0m - Invalid book_id format: invalid-id
2025-11-10 03:38:59 - src.api.exception_handlers - [33mWARNING[0m - HTTP 422: Invalid book_id format. Expected 24-character hexadecimal string, got: invalid-id | Path: /api/v1/changes | Method: GET | Client: 127.0.0.1
2025-11-10 03:38:59 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/changes", "status_code": 422, "execution_time": "0.004s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T02:38:59.980629"}
2025-11-10 03:38:59 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/changes?book_id=invalid-id "HTTP/1.1 422 Unprocessable Entity"
2025-11-10 03:38:59 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 03:38:59 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 03:38:59 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 03:38:59 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 03:39:00 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 03:39:00 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 03:39:00 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 03:39:00 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 03:39:00 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/changes", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T02:39:00.029628", "query_params": {"page_size": "1"}}
2025-11-10 03:39:00 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 03:39:00 - src.api.routes.changes - [32mINFO[0m - Changes list request: filters={}, page=1, total=6551, api_key=test-api...
2025-11-10 03:39:00 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/changes", "status_code": 200, "execution_time": "0.039s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T02:39:00.068627"}
2025-11-10 03:39:00 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/changes?page_size=1 "HTTP/1.1 200 OK"
2025-11-10 03:39:00 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 03:39:00 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 03:39:00 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 03:39:00 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 03:39:00 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 03:39:00 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 03:39:00 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 03:39:00 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 03:39:00 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/changes", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T02:39:00.128630", "query_params": {"page_size": "1"}}
2025-11-10 03:39:00 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 03:39:00 - src.api.routes.changes - [32mINFO[0m - Changes list request: filters={}, page=1, total=6551, api_key=test-api...
2025-11-10 03:39:00 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/changes", "status_code": 200, "execution_time": "0.023s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T02:39:00.151624"}
2025-11-10 03:39:00 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/changes?page_size=1 "HTTP/1.1 200 OK"
2025-11-10 03:39:00 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 03:39:00 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 03:39:00 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 03:39:00 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 03:39:00 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 03:39:00 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 03:39:00 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 03:39:00 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 03:39:00 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/changes", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T02:39:00.194624", "query_params": {"page_size": "50"}}
2025-11-10 03:39:00 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 03:39:00 - src.api.routes.changes - [32mINFO[0m - Changes list request: filters={}, page=1, total=6551, api_key=test-api...
2025-11-10 03:39:00 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/changes", "status_code": 200, "execution_time": "0.019s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T02:39:00.213623"}
2025-11-10 03:39:00 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/changes?page_size=50 "HTTP/1.1 200 OK"
2025-11-10 03:39:00 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 03:39:00 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 03:39:00 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 03:39:00 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 03:39:00 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 03:39:00 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 03:39:00 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 03:39:00 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 03:39:00 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/changes", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T02:39:00.246621", "query_params": {"page_size": "10"}}
2025-11-10 03:39:00 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 03:39:00 - src.api.routes.changes - [32mINFO[0m - Changes list request: filters={}, page=1, total=6551, api_key=test-api...
2025-11-10 03:39:00 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/changes", "status_code": 200, "execution_time": "0.020s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T02:39:00.266633"}
2025-11-10 03:39:00 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/changes?page_size=10 "HTTP/1.1 200 OK"
2025-11-10 03:39:00 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 03:39:00 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 03:39:00 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 03:39:00 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 03:39:00 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 03:39:00 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 03:39:00 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 03:39:00 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 03:39:00 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/changes", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T02:39:00.315630", "query_params": {"change_type": "update", "page_size": "10"}}
2025-11-10 03:39:00 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 03:39:00 - src.api.routes.changes - [32mINFO[0m - Changes list request: filters={'change_type': 'update'}, page=1, total=6551, api_key=test-api...
2025-11-10 03:39:00 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/changes", "status_code": 200, "execution_time": "0.023s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T02:39:00.338631"}
2025-11-10 03:39:00 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/changes?change_type=update&page_size=10 "HTTP/1.1 200 OK"
2025-11-10 03:39:00 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 03:39:00 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 03:39:00 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 03:39:00 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 03:39:00 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 03:39:00 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 03:39:00 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 03:39:00 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 03:39:00 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/changes", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T02:39:00.371629", "query_params": {"page_size": "10"}}
2025-11-10 03:39:00 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 03:39:00 - src.api.routes.changes - [32mINFO[0m - Changes list request: filters={}, page=1, total=6551, api_key=test-api...
2025-11-10 03:39:00 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/changes", "status_code": 200, "execution_time": "0.021s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T02:39:00.392626"}
2025-11-10 03:39:00 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/changes?page_size=10 "HTTP/1.1 200 OK"
2025-11-10 03:39:00 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 03:39:00 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 03:39:00 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 03:39:00 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 03:39:00 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 03:39:00 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 03:39:00 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 03:39:00 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 03:39:00 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/changes", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T02:39:00.448645"}
2025-11-10 03:39:00 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 03:39:00 - src.api.routes.changes - [32mINFO[0m - Changes list request: filters={}, page=1, total=6551, api_key=test-api...
2025-11-10 03:39:00 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/changes", "status_code": 200, "execution_time": "0.018s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T02:39:00.466631"}
2025-11-10 03:39:00 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/changes "HTTP/1.1 200 OK"
2025-11-10 03:39:00 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 03:39:00 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 03:39:00 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 03:39:00 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 03:39:00 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 03:39:00 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 03:39:00 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 03:39:00 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 03:39:00 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/changes", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T02:39:00.508315", "query_params": {"since": "2026-11-10T02:39:00"}}
2025-11-10 03:39:00 - api.auth - [33mWARNING[0m - Authentication failed: none
2025-11-10 03:39:00 - src.api.exception_handlers - [33mWARNING[0m - HTTP 401: {'error': 'Missing API key', 'message': 'Include X-API-Key header in your request', 'header': 'X-API-Key'} | Path: /api/v1/changes | Method: GET | Client: 127.0.0.1
2025-11-10 03:39:00 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/changes", "status_code": 401, "execution_time": "0.003s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T02:39:00.511313"}
2025-11-10 03:39:00 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/changes?since=2026-11-10T02:39:00 "HTTP/1.1 401 Unauthorized"
2025-11-10 03:39:00 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 03:39:00 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 03:39:00 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 03:39:00 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 03:39:00 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 03:39:00 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 03:39:00 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 03:39:00 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 03:39:00 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/changes", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T02:39:00.547698"}
2025-11-10 03:39:00 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 03:39:00 - src.api.routes.changes - [32mINFO[0m - Changes list request: filters={}, page=1, total=6551, api_key=test-api...
2025-11-10 03:39:00 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/changes", "status_code": 200, "execution_time": "0.020s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T02:39:00.567546"}
2025-11-10 03:39:00 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/changes "HTTP/1.1 200 OK"
2025-11-10 03:39:00 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 03:39:00 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 03:39:00 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 03:39:00 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 03:39:00 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 03:39:00 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 03:39:00 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 03:39:00 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 03:39:00 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/invalid-endpoint", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T02:39:00.610060"}
2025-11-10 03:39:00 - src.api.exception_handlers - [33mWARNING[0m - HTTP 404: Not Found | Path: /api/v1/invalid-endpoint | Method: GET | Client: 127.0.0.1
2025-11-10 03:39:00 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/invalid-endpoint", "status_code": 404, "execution_time": "0.002s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T02:39:00.612060"}
2025-11-10 03:39:00 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/invalid-endpoint "HTTP/1.1 404 Not Found"
2025-11-10 03:39:00 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 03:39:00 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 03:39:00 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 03:39:00 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 03:39:00 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 03:39:00 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 03:39:00 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 03:39:00 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 03:39:00 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books/507f1f77bcf86cd799439999", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T02:39:00.669551"}
2025-11-10 03:39:00 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 03:39:00 - src.api.routes.books - [32mINFO[0m - Book not found: 507f1f77bcf86cd799439999, api_key=test-api...
2025-11-10 03:39:00 - src.api.exception_handlers - [33mWARNING[0m - HTTP 404: Book with ID '507f1f77bcf86cd799439999' not found | Path: /api/v1/books/507f1f77bcf86cd799439999 | Method: GET | Client: 127.0.0.1
2025-11-10 03:39:00 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books/507f1f77bcf86cd799439999", "status_code": 404, "execution_time": "0.004s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T02:39:00.673529"}
2025-11-10 03:39:00 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books/507f1f77bcf86cd799439999 "HTTP/1.1 404 Not Found"
2025-11-10 03:39:00 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 03:39:00 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 03:39:00 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 03:39:00 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 03:39:00 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 03:39:00 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 03:39:00 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 03:39:00 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 03:39:00 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books/invalid-id-123", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T02:39:00.718946"}
2025-11-10 03:39:00 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 03:39:00 - src.api.routes.books - [33mWARNING[0m - Invalid ObjectId format: invalid-id-123
2025-11-10 03:39:00 - src.api.exception_handlers - [33mWARNING[0m - HTTP 422: Invalid book ID format. Expected 24-character hexadecimal string, got: invalid-id-123 | Path: /api/v1/books/invalid-id-123 | Method: GET | Client: 127.0.0.1
2025-11-10 03:39:00 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books/invalid-id-123", "status_code": 422, "execution_time": "0.004s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T02:39:00.722944"}
2025-11-10 03:39:00 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books/invalid-id-123 "HTTP/1.1 422 Unprocessable Entity"
2025-11-10 03:39:00 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 03:39:00 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 03:39:00 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 03:39:00 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 03:39:00 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 03:39:00 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 03:39:00 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 03:39:00 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 03:39:00 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T02:39:00.760942", "query_params": {"page": "0"}}
2025-11-10 03:39:00 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 03:39:00 - src.api.exception_handlers - [33mWARNING[0m - Validation error: 1 field(s) invalid | Path: /api/v1/books | Method: GET | Errors: [{'field': 'query -> page', 'message': 'Input should be greater than or equal to 1', 'type': 'greater_than_equal'}]
2025-11-10 03:39:00 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 422, "execution_time": "0.003s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T02:39:00.763942"}
2025-11-10 03:39:00 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books?page=0 "HTTP/1.1 422 Unprocessable Entity"
2025-11-10 03:39:00 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 03:39:00 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 03:39:00 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 03:39:00 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 03:39:00 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 03:39:00 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 03:39:00 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 03:39:00 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 03:39:00 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T02:39:00.801941", "query_params": {"page_size": "200"}}
2025-11-10 03:39:00 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 03:39:00 - src.api.routes.books - [32mINFO[0m - Books list request: filters={}, sort=recent, page=1, total=1000, api_key=test-api...
2025-11-10 03:39:00 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 200, "execution_time": "0.018s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T02:39:00.819943"}
2025-11-10 03:39:00 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books?page_size=200 "HTTP/1.1 200 OK"
2025-11-10 03:39:00 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 03:39:00 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 03:39:00 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 03:39:00 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 03:39:00 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 03:39:00 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 03:39:00 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 03:39:00 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 03:39:00 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T02:39:00.855943", "query_params": {"min_rating": "10"}}
2025-11-10 03:39:00 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 03:39:00 - src.api.routes.books - [32mINFO[0m - Books list request: filters={}, sort=recent, page=1, total=1000, api_key=test-api...
2025-11-10 03:39:00 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 200, "execution_time": "0.013s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T02:39:00.868944"}
2025-11-10 03:39:00 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books?min_rating=10 "HTTP/1.1 200 OK"
2025-11-10 03:39:00 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 03:39:00 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 03:39:00 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 03:39:00 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 03:39:00 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 03:39:00 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 03:39:00 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 03:39:00 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 03:39:00 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/changes", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T02:39:00.903941", "query_params": {"since": "not-a-date"}}
2025-11-10 03:39:00 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 03:39:00 - src.api.exception_handlers - [33mWARNING[0m - Validation error: 1 field(s) invalid | Path: /api/v1/changes | Method: GET | Errors: [{'field': 'query -> since', 'message': 'Input should be a valid datetime or date, invalid character in year', 'type': 'datetime_from_date_parsing'}]
2025-11-10 03:39:00 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/changes", "status_code": 422, "execution_time": "0.003s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T02:39:00.906943"}
2025-11-10 03:39:00 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/changes?since=not-a-date "HTTP/1.1 422 Unprocessable Entity"
2025-11-10 03:39:00 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 03:39:00 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 03:39:00 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 03:39:00 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 03:39:00 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 03:39:00 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 03:39:00 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 03:39:00 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 03:39:00 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books/invalid-id", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T02:39:00.966944"}
2025-11-10 03:39:00 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 03:39:00 - src.api.routes.books - [33mWARNING[0m - Invalid ObjectId format: invalid-id
2025-11-10 03:39:00 - src.api.exception_handlers - [33mWARNING[0m - HTTP 422: Invalid book ID format. Expected 24-character hexadecimal string, got: invalid-id | Path: /api/v1/books/invalid-id | Method: GET | Client: 127.0.0.1
2025-11-10 03:39:00 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books/invalid-id", "status_code": 422, "execution_time": "0.003s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T02:39:00.969943"}
2025-11-10 03:39:00 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books/invalid-id "HTTP/1.1 422 Unprocessable Entity"
2025-11-10 03:39:00 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 03:39:00 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 03:39:00 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 03:39:00 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 03:39:00 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 03:39:00 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 03:39:01 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 03:39:01 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 03:39:01 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books/507f1f77bcf86cd799439999", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T02:39:01.007949"}
2025-11-10 03:39:01 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 03:39:01 - src.api.routes.books - [32mINFO[0m - Book not found: 507f1f77bcf86cd799439999, api_key=test-api...
2025-11-10 03:39:01 - src.api.exception_handlers - [33mWARNING[0m - HTTP 404: Book with ID '507f1f77bcf86cd799439999' not found | Path: /api/v1/books/507f1f77bcf86cd799439999 | Method: GET | Client: 127.0.0.1
2025-11-10 03:39:01 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books/507f1f77bcf86cd799439999", "status_code": 404, "execution_time": "0.006s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T02:39:01.013946"}
2025-11-10 03:39:01 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books/507f1f77bcf86cd799439999 "HTTP/1.1 404 Not Found"
2025-11-10 03:39:01 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 03:39:01 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 03:39:01 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 03:39:01 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 03:39:01 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 03:39:01 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 03:39:01 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 03:39:01 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 03:39:01 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "POST", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T02:39:01.150181"}
2025-11-10 03:39:01 - src.api.exception_handlers - [33mWARNING[0m - HTTP 405: Method Not Allowed | Path: /api/v1/books | Method: POST | Client: 127.0.0.1
2025-11-10 03:39:01 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "POST", "path": "/api/v1/books", "status_code": 405, "execution_time": "0.001s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T02:39:01.151180"}
2025-11-10 03:39:01 - httpx - [32mINFO[0m - HTTP Request: POST http://test/api/v1/books "HTTP/1.1 405 Method Not Allowed"
2025-11-10 03:39:01 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 03:39:01 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 03:39:01 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 03:39:01 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 03:39:01 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 03:39:01 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 03:39:01 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 03:39:01 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 03:39:01 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "POST", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T02:39:01.217789"}
2025-11-10 03:39:01 - src.api.exception_handlers - [33mWARNING[0m - HTTP 405: Method Not Allowed | Path: /api/v1/books | Method: POST | Client: 127.0.0.1
2025-11-10 03:39:01 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "POST", "path": "/api/v1/books", "status_code": 405, "execution_time": "0.001s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T02:39:01.218790"}
2025-11-10 03:39:01 - httpx - [32mINFO[0m - HTTP Request: POST http://test/api/v1/books "HTTP/1.1 405 Method Not Allowed"
2025-11-10 03:39:01 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 03:39:01 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 03:39:01 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 03:39:01 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 03:39:01 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 03:39:01 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 03:39:01 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 03:39:01 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 03:39:01 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/health", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T02:39:01.255360"}
2025-11-10 03:39:01 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/health", "status_code": 200, "execution_time": "0.007s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T02:39:01.262377"}
2025-11-10 03:39:01 - httpx - [32mINFO[0m - HTTP Request: GET http://test/health "HTTP/1.1 200 OK"
2025-11-10 03:39:01 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 03:39:01 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 03:39:01 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 03:39:01 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 03:39:01 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 03:39:01 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 03:39:01 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 03:39:01 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 03:39:01 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/health", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T02:39:01.295358"}
2025-11-10 03:39:01 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/health", "status_code": 200, "execution_time": "0.007s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T02:39:01.301354"}
2025-11-10 03:39:01 - httpx - [32mINFO[0m - HTTP Request: GET http://test/health "HTTP/1.1 200 OK"
2025-11-10 03:39:01 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 03:39:01 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 03:39:01 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 03:39:01 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 03:39:01 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 03:39:01 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 03:39:01 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 03:39:01 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 03:39:01 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/health", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T02:39:01.336359"}
2025-11-10 03:39:01 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/health", "status_code": 200, "execution_time": "0.010s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T02:39:01.346358"}
2025-11-10 03:39:01 - httpx - [32mINFO[0m - HTTP Request: GET http://test/health "HTTP/1.1 200 OK"
2025-11-10 03:39:01 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 03:39:01 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 03:39:01 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 03:39:01 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 03:39:01 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 03:39:01 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 03:39:01 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 03:39:01 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 03:39:01 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/health", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T02:39:01.388354"}
2025-11-10 03:39:01 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/health", "status_code": 200, "execution_time": "0.055s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T02:39:01.443836"}
2025-11-10 03:39:01 - httpx - [32mINFO[0m - HTTP Request: GET http://test/health "HTTP/1.1 200 OK"
2025-11-10 03:39:01 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 03:39:01 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 03:39:01 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 03:39:01 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 03:39:01 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 03:39:01 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 03:39:01 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 03:39:01 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 03:39:01 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/books", "client_ip": "127.0.0.1", "api_key": "none", "timestamp": "2025-11-10T02:39:01.482834"}
2025-11-10 03:39:01 - src.api.exception_handlers - [33mWARNING[0m - HTTP 404: Not Found | Path: /api/books | Method: GET | Client: 127.0.0.1
2025-11-10 03:39:01 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/books", "status_code": 404, "execution_time": "0.002s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T02:39:01.484834"}
2025-11-10 03:39:01 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/books "HTTP/1.1 404 Not Found"
2025-11-10 03:39:01 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 03:39:01 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 03:39:01 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 03:39:01 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 03:39:01 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 03:39:01 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 03:39:01 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 03:39:01 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 03:39:01 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T02:39:01.518818"}
2025-11-10 03:39:01 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 03:39:01 - src.api.routes.books - [32mINFO[0m - Books list request: filters={}, sort=recent, page=1, total=1000, api_key=test-api...
2025-11-10 03:39:01 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 200, "execution_time": "0.018s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T02:39:01.536823"}
2025-11-10 03:39:01 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books "HTTP/1.1 200 OK"
2025-11-10 03:39:01 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 03:39:01 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 03:39:01 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 03:39:01 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 03:39:01 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 03:39:01 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 03:39:01 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 03:39:01 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 03:39:01 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T02:39:01.576819"}
2025-11-10 03:39:01 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 03:39:01 - src.api.routes.books - [32mINFO[0m - Books list request: filters={}, sort=recent, page=1, total=1000, api_key=test-api...
2025-11-10 03:39:01 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 200, "execution_time": "0.011s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T02:39:01.587816"}
2025-11-10 03:39:01 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books "HTTP/1.1 200 OK"
2025-11-10 03:39:01 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 03:39:01 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 03:39:01 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 03:39:01 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 03:39:01 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 03:39:01 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 03:39:01 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 03:39:01 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 03:39:01 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T02:39:01.631819"}
2025-11-10 03:39:01 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 03:39:01 - src.api.routes.books - [32mINFO[0m - Books list request: filters={}, sort=recent, page=1, total=1000, api_key=test-api...
2025-11-10 03:39:01 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 200, "execution_time": "0.012s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T02:39:01.643819"}
2025-11-10 03:39:01 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books "HTTP/1.1 200 OK"
2025-11-10 03:39:01 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 03:39:01 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 03:39:01 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 03:39:01 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 03:39:01 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 03:39:01 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 03:39:01 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 03:39:01 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 03:39:01 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T02:39:01.684817"}
2025-11-10 03:39:01 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 03:39:01 - src.api.routes.books - [32mINFO[0m - Books list request: filters={}, sort=recent, page=1, total=1000, api_key=test-api...
2025-11-10 03:39:01 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 200, "execution_time": "0.013s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T02:39:01.697820"}
2025-11-10 03:39:01 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books "HTTP/1.1 200 OK"
2025-11-10 03:39:01 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 03:39:01 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 03:39:01 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 03:39:01 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 03:39:01 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 03:39:01 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 03:39:01 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 03:39:01 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 03:39:01 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T02:39:01.731820", "query_params": {"page": "999999"}}
2025-11-10 03:39:01 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 03:39:01 - src.api.routes.books - [32mINFO[0m - Books list request: filters={}, sort=recent, page=999999, total=1000, api_key=test-api...
2025-11-10 03:39:01 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 200, "execution_time": "0.100s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T02:39:01.831827"}
2025-11-10 03:39:01 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books?page=999999 "HTTP/1.1 200 OK"
2025-11-10 03:39:01 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 03:39:01 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 03:39:01 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 03:39:01 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 03:39:01 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 03:39:01 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 03:39:01 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 03:39:01 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 03:39:01 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T02:39:01.877819", "query_params": {"page_size": "100"}}
2025-11-10 03:39:01 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 03:39:01 - src.api.routes.books - [32mINFO[0m - Books list request: filters={}, sort=recent, page=1, total=1000, api_key=test-api...
2025-11-10 03:39:01 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 200, "execution_time": "0.015s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T02:39:01.892822"}
2025-11-10 03:39:01 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books?page_size=100 "HTTP/1.1 200 OK"
2025-11-10 03:39:01 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 03:39:01 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 03:39:01 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 03:39:01 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 03:39:01 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 03:39:01 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 03:39:01 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 03:39:01 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 03:39:01 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T02:39:01.927818", "query_params": {"page_size": "1"}}
2025-11-10 03:39:01 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 03:39:01 - src.api.routes.books - [32mINFO[0m - Books list request: filters={}, sort=recent, page=1, total=1000, api_key=test-api...
2025-11-10 03:39:01 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 200, "execution_time": "0.011s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T02:39:01.938819"}
2025-11-10 03:39:01 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books?page_size=1 "HTTP/1.1 200 OK"
2025-11-10 03:39:01 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 03:39:01 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 03:39:01 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 03:39:01 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 03:39:01 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 03:39:01 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 03:39:01 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 03:39:01 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 03:39:01 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T02:39:01.984817", "query_params": {"search": "test & book"}}
2025-11-10 03:39:01 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 03:39:02 - src.api.routes.books - [32mINFO[0m - Books list request: filters={'$or': [{'title': {'$regex': 'test & book', '$options': 'i'}}, {'description': {'$regex': 'test & book', '$options': 'i'}}]}, sort=recent, page=1, total=0, api_key=test-api...
2025-11-10 03:39:02 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 200, "execution_time": "0.064s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T02:39:02.047819"}
2025-11-10 03:39:02 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books?search=test%20%26%20book "HTTP/1.1 200 OK"
2025-11-10 03:39:02 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 03:39:02 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 03:39:02 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 03:39:02 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 03:39:02 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 03:39:02 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 03:39:02 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 03:39:02 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 03:39:02 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T02:39:02.087819", "query_params": {"search": "caf\u00e9"}}
2025-11-10 03:39:02 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 03:39:02 - src.api.routes.books - [32mINFO[0m - Books list request: filters={'$or': [{'title': {'$regex': 'cafÃ©', '$options': 'i'}}, {'description': {'$regex': 'cafÃ©', '$options': 'i'}}]}, sort=recent, page=1, total=3, api_key=test-api...
2025-11-10 03:39:02 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 200, "execution_time": "0.039s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T02:39:02.125818"}
2025-11-10 03:39:02 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books?search=caf%C3%A9 "HTTP/1.1 200 OK"
2025-11-10 03:39:02 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 03:39:02 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 03:39:02 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 03:39:02 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 03:39:02 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 03:39:02 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 03:39:02 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 03:39:02 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 03:39:02 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T02:39:02.165815", "query_params": {"search": ""}}
2025-11-10 03:39:02 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 03:39:02 - src.api.routes.books - [32mINFO[0m - Books list request: filters={}, sort=recent, page=1, total=1000, api_key=test-api...
2025-11-10 03:39:02 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 200, "execution_time": "0.016s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T02:39:02.181818"}
2025-11-10 03:39:02 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books?search= "HTTP/1.1 200 OK"
2025-11-10 03:39:02 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 03:39:02 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 03:39:02 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 03:39:02 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 03:39:02 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 03:39:02 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 03:39:02 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 03:39:02 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 03:39:02 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T02:39:02.219814", "query_params": {"min_price": "-10"}}
2025-11-10 03:39:02 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 03:39:02 - src.api.exception_handlers - [33mWARNING[0m - Validation error: 1 field(s) invalid | Path: /api/v1/books | Method: GET | Errors: [{'field': 'query -> min_price', 'message': 'Input should be greater than or equal to 0', 'type': 'greater_than_equal'}]
2025-11-10 03:39:02 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 422, "execution_time": "0.002s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T02:39:02.221815"}
2025-11-10 03:39:02 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books?min_price=-10 "HTTP/1.1 422 Unprocessable Entity"
2025-11-10 03:39:02 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 03:39:02 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 03:39:02 - api.database - [32mINFO[0m - Connecting to MongoDB...
2025-11-10 03:39:02 - api.database - [32mINFO[0m - MongoDB URI: mongodb://localhost:27017/book...
2025-11-10 03:39:02 - api.database - [32mINFO[0m - Successfully connected to MongoDB database: books
2025-11-10 03:39:02 - api.database - [32mINFO[0m - Available collections: ['books', 'book_changes', 'checkpoints', 'change_records', 'fs.files', 'fs.chunks']
2025-11-10 03:39:02 - api.database - [32mINFO[0m - Books collection contains 1000 documents
2025-11-10 03:39:02 - api.database - [32mINFO[0m - DB startup_check on books
2025-11-10 03:39:02 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T02:39:02.261815"}
2025-11-10 03:39:02 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T02:39:02.262816"}
2025-11-10 03:39:02 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T02:39:02.263820"}
2025-11-10 03:39:02 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T02:39:02.264822"}
2025-11-10 03:39:02 - api.requests - [32mINFO[0m - {"event": "request_started", "method": "GET", "path": "/api/v1/books", "client_ip": "127.0.0.1", "api_key": "test-api...", "timestamp": "2025-11-10T02:39:02.265820"}
2025-11-10 03:39:02 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 03:39:02 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 03:39:02 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 03:39:02 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 03:39:02 - api.auth - [32mINFO[0m - Authentication successful: test-api...
2025-11-10 03:39:02 - src.api.routes.books - [32mINFO[0m - Books list request: filters={}, sort=recent, page=1, total=1000, api_key=test-api...
2025-11-10 03:39:02 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 200, "execution_time": "0.036s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T02:39:02.297822"}
2025-11-10 03:39:02 - src.api.routes.books - [32mINFO[0m - Books list request: filters={}, sort=recent, page=1, total=1000, api_key=test-api...
2025-11-10 03:39:02 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 200, "execution_time": "0.038s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T02:39:02.301815"}
2025-11-10 03:39:02 - src.api.routes.books - [32mINFO[0m - Books list request: filters={}, sort=recent, page=1, total=1000, api_key=test-api...
2025-11-10 03:39:02 - src.api.routes.books - [32mINFO[0m - Books list request: filters={}, sort=recent, page=1, total=1000, api_key=test-api...
2025-11-10 03:39:02 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 200, "execution_time": "0.041s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T02:39:02.306817"}
2025-11-10 03:39:02 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 200, "execution_time": "0.045s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T02:39:02.307818"}
2025-11-10 03:39:02 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books "HTTP/1.1 200 OK"
2025-11-10 03:39:02 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books "HTTP/1.1 200 OK"
2025-11-10 03:39:02 - src.api.routes.books - [32mINFO[0m - Books list request: filters={}, sort=recent, page=1, total=1000, api_key=test-api...
2025-11-10 03:39:02 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books "HTTP/1.1 200 OK"
2025-11-10 03:39:02 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books "HTTP/1.1 200 OK"
2025-11-10 03:39:02 - api.requests - [32mINFO[0m - {"event": "request_completed", "method": "GET", "path": "/api/v1/books", "status_code": 200, "execution_time": "0.054s", "client_ip": "127.0.0.1", "timestamp": "2025-11-10T02:39:02.318816"}
2025-11-10 03:39:02 - httpx - [32mINFO[0m - HTTP Request: GET http://test/api/v1/books "HTTP/1.1 200 OK"
2025-11-10 03:39:02 - api.database - [32mINFO[0m - Closing MongoDB connection...
2025-11-10 03:39:02 - api.database - [32mINFO[0m - âœ… MongoDB connection closed
2025-11-10 03:39:02 - tests.test_connection - [32mINFO[0m - Loaded crawler settings: {'mongo_uri': 'mongodb://localhost:27017/books', 'max_concurrency': 10, 'request_timeout': 10, 'retry_attempts': 5, 'request_interval': 1.0, 'user_agent': 'BooksCrawler/1.0 (+https://github.com/crazycoder44/)', 'store_html_in_gridfs': True, 'mongodb_url': 'mongodb://localhost:27017', 'reports_dir': './reports', 'crawl_interval': '3600', 'logging_level': 'INFO', 'api_host': '0.0.0.0', 'api_port': '8000', 'api_title': 'Books to Scrape API', 'api_version': '1.0.0', 'api_description': 'RESTful API for querying crawled book data with authentication and rate limiting', 'api_keys': '2688f4e126ca5efd4a60022073e6cd90017626e56c3f30b194d53e6299edfe3c:test_integration,92488e1e3eeecdf99f3ed2ce59233efb4b4fb612d5655c0ce9ea52b5a502e655:test_key,46d74f2e17ca9220713571e83c870725adf4213f952748f827c9804a38864dc3:admin_key', 'rate_limit_per_hour': '100', 'allowed_origins': 'http://localhost:3000,http://localhost:8080,http://127.0.0.1:3000', 'default_page_size': '20', 'max_page_size': '100', 'api_log_level': 'INFO', 'log_to_file': 'true', 'log_json_format': 'false', 'log_rotation': 'true'}
2025-11-10 03:39:02 - tests.test_connection - [32mINFO[0m - âœ“ Crawler: Successfully connected to MongoDB
2025-11-10 03:39:02 - tests.test_connection - [32mINFO[0m - âœ“ Crawler: Successfully created test collection
2025-11-10 03:39:03 - tests.test_connection - [32mINFO[0m - âœ“ Crawler: Successfully cleaned up test collection
2025-11-10 03:39:03 - tests.test_connection - [32mINFO[0m - Loaded scheduler settings - MongoDB URL: mongodb://localhost:27017
2025-11-10 03:39:03 - tests.test_connection - [32mINFO[0m - âœ“ Scheduler: Successfully connected to MongoDB
2025-11-10 03:39:03 - tests.test_connection - [32mINFO[0m - âœ“ Scheduler: Successfully created test collection
2025-11-10 03:39:03 - tests.test_connection - [32mINFO[0m - âœ“ Scheduler: Successfully cleaned up test collection
2025-11-10 03:39:03 - tests.test_connection - [32mINFO[0m - âœ“ Both crawler and scheduler successfully connected to MongoDB
2025-11-10 03:39:04 - notifications - [32mINFO[0m - ==================================================
To: admin@example.com
Subject: Price Alert: Test Book price changed by 25.0%
==================================================


<h2>Book Price Change Alert</h2>
<p>The following book has had a significant price change:</p>
<ul>
    <li>Title: Test Book</li>
    <li>Previous Price: $19.99</li>
    <li>New Price: $24.99</li>
    <li>Change Percentage: 25.0%</li>
</ul>
<p>View more details in the daily report.</p>

==================================================
2025-11-10 03:39:18 - apscheduler.scheduler - [32mINFO[0m - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-11-10 03:39:18 - apscheduler.scheduler - [32mINFO[0m - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-11-10 03:39:18 - apscheduler.scheduler - [32mINFO[0m - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-11-10 03:39:18 - apscheduler.scheduler - [32mINFO[0m - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-11-10 03:39:18 - apscheduler.scheduler - [32mINFO[0m - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-11-10 03:39:18 - apscheduler.scheduler - [32mINFO[0m - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-11-10 03:39:18 - apscheduler.scheduler - [32mINFO[0m - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-11-10 03:39:18 - apscheduler.scheduler - [32mINFO[0m - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-11-10 03:39:19 - scheduler - [32mINFO[0m - Change detection completed: 50 books processed, 5 changes detected
2025-11-10 03:39:19 - scheduler - [32mINFO[0m - Maintenance completed successfully: {'start_time': datetime.datetime(2025, 11, 10, 2, 39, 19, 696398), 'tasks_completed': ['change_consolidation', 'snapshot_cleanup', 'orphan_cleanup'], 'orphaned_snapshots_removed': 5}
2025-11-10 03:39:20 - apscheduler.scheduler - [32mINFO[0m - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-11-10 03:39:20 - apscheduler.scheduler - [32mINFO[0m - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-11-10 03:39:20 - apscheduler.scheduler - [32mINFO[0m - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-11-10 03:39:20 - apscheduler.scheduler - [32mINFO[0m - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-11-10 03:39:25 - src.api.utils.query_builder - [33mWARNING[0m - Failed to convert 'not_a_number' to int: invalid literal for int() with base 10: 'not_a_number'
2025-11-10 03:39:25 - src.api.utils.query_builder - [33mWARNING[0m - Failed to convert 'not_a_float' to float: could not convert string to float: 'not_a_float'
2025-11-10 03:39:25 - api.rate_limiter - [32mINFO[0m - Rate limiting enabled: 100 requests per hour
2025-11-10 03:39:25 - api.rate_limiter - [32mINFO[0m - Rate limiting enabled: 100 requests per hour
2025-11-10 03:39:25 - api.rate_limiter - [32mINFO[0m - Rate limiting enabled: 100 requests per hour
2025-11-10 03:39:25 - api.rate_limiter - [32mINFO[0m - Rate limiting enabled: 100 requests per hour
2025-11-10 03:39:25 - api.rate_limiter - [32mINFO[0m - Rate limiting enabled: 100 requests per hour
2025-11-10 03:39:25 - api.rate_limiter - [32mINFO[0m - Rate limiting enabled: 100 requests per hour
2025-11-10 03:39:25 - api.rate_limiter - [32mINFO[0m - Rate limiting enabled: 100 requests per hour
2025-11-10 03:39:25 - api.rate_limiter - [32mINFO[0m - Rate limiting enabled: 100 requests per hour
2025-11-10 03:39:25 - api.rate_limiter - [32mINFO[0m - Rate limiting enabled: 100 requests per hour
